namespace = PlusFaction

#reserved: PlusFaction.100 to PlusFaction.199

##################################
# FACTION MEMBERSHIP EVENTS
##################################

# Joining the Court faction
character_event = {
	id = PlusFaction.100
	
	hide_window = yes
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	ai = yes
	
	trigger = {
		ai = yes
		independent = no
		is_landed = yes
		NOT = {
			trait = in_hiding
			liege = { current_heir = { character = ROOT } }
			has_character_flag = faction_court_supporter
			has_character_flag = faction_prosperity_supporter
			has_character_flag = faction_glory_supporter
			has_character_flag = faction_tradition_supporter
		}
	}
	
	mean_time_to_happen = {
		months = 12
		modifier = {
			factor = 0.75
			OR = {
				trait = amateurish_plotter
				trait = flamboyant_schemer
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 0.75
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = proud
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.75
			trait = envious
		}
		modifier = {
			factor = 0.75
			trait = gluttonous
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = schemer
				trait = gamer
			}
		}
		modifier = {
			factor = 1.5
			trait = charitable
		}
		modifier = {
			factor = 1.5
			trait = humble
		}
		modifier = {
			factor = 1.5
			trait = content
		}
		modifier = {
			factor = 1.5
			OR = {
				is_patrician = yes
				is_republic = yes
				is_merchant_republic = yes
				capital_holding = { holding_type = temple }
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_court
					reverse_opinion = { who = ROOT value = 25 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_court
					reverse_opinion = { who = ROOT value = 50 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_court
					reverse_opinion = { who = ROOT value = 75 }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_court
					NOT = { reverse_opinion = { who = ROOT value = -25 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_court
					NOT = { reverse_opinion = { who = ROOT value = -50 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_court
					NOT = { reverse_opinion = { who = ROOT value = -75 } }
				}
			}
		}
	}
	
	immediate = {
		set_character_flag = faction_court_supporter
	}
}

# Joining the Prosperity faction
character_event = {
	id = PlusFaction.101
	
	hide_window = yes
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	ai = yes
	
	trigger = {
		ai = yes
		independent = no
		is_landed = yes
		NOT = {
			trait = in_hiding
			liege = { current_heir = { character = ROOT } }
			has_character_flag = faction_court_supporter
			has_character_flag = faction_prosperity_supporter
			has_character_flag = faction_glory_supporter
			has_character_flag = faction_tradition_supporter
		}
	}
	
	mean_time_to_happen = {
		months = 12
		modifier = {
			factor = 0.5
			OR = {
				is_patrician = yes
				is_republic = yes
				is_merchant_republic = yes
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = indulgent_wastrel
				trait = thrifty_clerk
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = fortune_builder
				trait = midas_touched
			}
		}
		modifier = {
			factor = 0.5
			trait = greedy
		}
		modifier = {
			factor = 0.75
			trait = diligent
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = gardener
				trait = administrator
				trait = architect
			}
		}
		modifier = {
			factor = 1.5
			trait = charitable
		}
		modifier = {
			factor = 1.5
			trait = slothful
		}
		modifier = {
			factor = 1.5
			trait = trusting
		}
		modifier = {
			factor = 1.5
			capital_holding = { holding_type = temple }
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_prosperity
					reverse_opinion = { who = ROOT value = 25 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_prosperity
					reverse_opinion = { who = ROOT value = 50 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_prosperity
					reverse_opinion = { who = ROOT value = 75 }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_prosperity
					NOT = { reverse_opinion = { who = ROOT value = -25 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_prosperity
					NOT = { reverse_opinion = { who = ROOT value = -50 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_prosperity
					NOT = { reverse_opinion = { who = ROOT value = -75 } }
				}
			}
		}
	}
	
	immediate = {
		set_character_flag = faction_prosperity_supporter
	}
}

# Joining the Glory faction
character_event = {
	id = PlusFaction.102
	
	hide_window = yes
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	ai = yes
	
	trigger = {
		ai = yes
		independent = no
		is_landed = yes
		NOT = {
			trait = in_hiding
			liege = { current_heir = { character = ROOT } }
			has_character_flag = faction_court_supporter
			has_character_flag = faction_prosperity_supporter
			has_character_flag = faction_glory_supporter
			has_character_flag = faction_tradition_supporter
		}
	}
	
	mean_time_to_happen = {
		months = 12
		modifier = {
			factor = 0.75
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = viking
				trait = berserker
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = crusader
				trait = mujahid
			}
		}
		modifier = {
			factor = 0.75
			trait = brave
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = hunter
				trait = duelist
				trait = impaler
				trait = strategist
			}
		}
		modifier = {
			factor = 1.5
			trait = kind
		}
		modifier = {
			factor = 1.5
			trait = patient
		}
		modifier = {
			factor = 1.5
			trait = craven
		}
		modifier = {
			factor = 1.5
			OR = {
				is_patrician = yes
				is_republic = yes
				is_merchant_republic = yes
				capital_holding = { holding_type = temple }
			}
		}
		modifier = {
			factor = 3
			pacifist = yes
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_glory
					reverse_opinion = { who = ROOT value = 25 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_glory
					reverse_opinion = { who = ROOT value = 50 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_glory
					reverse_opinion = { who = ROOT value = 75 }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_glory
					NOT = { reverse_opinion = { who = ROOT value = -25 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_glory
					NOT = { reverse_opinion = { who = ROOT value = -50 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_glory
					NOT = { reverse_opinion = { who = ROOT value = -75 } }
				}
			}
		}
	}
	
	immediate = {
		set_character_flag = faction_glory_supporter
	}
}

# Joining the Tradition faction
character_event = {
	id = PlusFaction.103
	
	hide_window = yes
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	ai = yes
	
	trigger = {
		ai = yes
		independent = no
		is_landed = yes
		liege = { religion = ROOT }
		NOT = {
			trait = in_hiding
			trait = cynical
			trait = excommunicated
			liege = { current_heir = { character = ROOT } }
			has_character_flag = faction_court_supporter
			has_character_flag = faction_prosperity_supporter
			has_character_flag = faction_glory_supporter
			has_character_flag = faction_tradition_supporter
		}
	}
	
	mean_time_to_happen = {
		months = 12
		modifier = {
			factor = 0.5
			capital_holding = { holding_type = temple }
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = detached_priest
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 0.5
			trait = zealous
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = hafiz
				trait = faqih
				trait = theologian
			}
		}
		modifier = {
			factor = 0.75
			trait = content
		}
		modifier = {
			factor = 0.75
			trait = humble
		}
		modifier = {
			factor = 0.75
			trait = temperate
		}
		modifier = {
			factor = 1.5
			trait = proud
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = hedonist
				trait = scholar
				trait = mystic
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				is_patrician = yes
				is_republic = yes
				is_merchant_republic = yes
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_tradition
					reverse_opinion = { who = ROOT value = 25 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_tradition
					reverse_opinion = { who = ROOT value = 50 }
				}
			}
		}
		modifier = {
			factor = 0.8
			liege = {
				any_vassal = {
					leads_faction = faction_tradition
					reverse_opinion = { who = ROOT value = 75 }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_tradition
					NOT = { reverse_opinion = { who = ROOT value = -25 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_tradition
					NOT = { reverse_opinion = { who = ROOT value = -50 } }
				}
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				any_vassal = {
					leads_faction = faction_tradition
					NOT = { reverse_opinion = { who = ROOT value = -75 } }
				}
			}
		}
	}
	
	immediate = {
		set_character_flag = faction_tradition_supporter
	}
}

# The ruler leaves their faction
character_event = {
	id = PlusFaction.104
	
	hide_window = yes
	
	min_age = 16
	ai = yes
	
	trigger = {
		OR = {
			had_character_flag = { flag = faction_court_supporter days = 30 }
			had_character_flag = { flag = faction_prosperity_supporter days = 30 }
			had_character_flag = { flag = faction_glory_supporter days = 30 }
			had_character_flag = { flag = faction_tradition_supporter days = 30 }
		}
		OR = {
			is_ruler = no
			trait = incapable
			is_landed = no
			independent = yes
			liege = { current_heir = { character = ROOT } }
			NOT = {
				leads_faction = faction_court
				leads_faction = faction_prosperity
				leads_faction = faction_glory
				leads_faction = faction_tradition
				in_faction = faction_court
				in_faction = faction_prosperity
				in_faction = faction_glory
				in_faction = faction_tradition
			}
			AND = {
				has_character_flag = faction_tradition_supporter
				OR = {
					liege = { NOT = { religion = ROOT } }
					trait = cynical
					trait = excommunicated
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 30
		modifier = {
			factor = 6
			is_ruler = yes
			is_landed = yes
			independent = no
			NOT = {
				trait = incapable
				liege = { current_heir = { character = ROOT } }
			}
			NOT = {
				leads_faction = faction_court
				leads_faction = faction_prosperity
				leads_faction = faction_glory
				leads_faction = faction_tradition
				in_faction = faction_court
				in_faction = faction_prosperity
				in_faction = faction_glory
				in_faction = faction_tradition
			}
		}
		modifier = {
			factor = 0.1
			has_character_flag = faction_tradition_supporter
			OR = {
				liege = { NOT = { religion = ROOT } }
				trait = cynical
				trait = excommunicated
			}
		}
	}
	
	immediate = {
		clr_character_flag = faction_court_supporter
		clr_character_flag = faction_prosperity_supporter
		clr_character_flag = faction_glory_supporter
		clr_character_flag = faction_tradition_supporter
	}
}

### FACTION RECRUITMENT EVENTS

# Faction leader sets out to recruit a fellow vassal
character_event = {
	id = PlusFaction.110
	desc = EVTDESC_PlusFaction_110
	picture = GFX_evt_carriage
	
	is_triggered_only = yes
	
	option = {
		name = OK
		add_character_modifier = {
			name = do_not_disturb
			duration = 15
			hidden = yes
		}
	}
}

# Faction leader tries to recruit fellow vassal
character_event = {
	id = PlusFaction.111
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	desc = {
		text = EVTDESC_PlusFaction_111A
		trigger = {
			FROMFROM = { leads_faction = faction_court }
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_111B
		trigger = {
			FROMFROM = { leads_faction = faction_prosperity }
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_111C
		trigger = {
			FROMFROM = { leads_faction = faction_glory }
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_111D
		trigger = {
			FROMFROM = { leads_faction = faction_tradition }
		}
	}
	
	trigger = {
		NOT = {
			leads_faction = faction_court
			leads_faction = faction_prosperity
			leads_faction = faction_glory
			leads_faction = faction_tradition
		}
		FROMFROM = {
			OR = {
				leads_faction = faction_court
				leads_faction = faction_prosperity
				leads_faction = faction_glory
				leads_faction = faction_tradition
			}
		}
	}
	
	immediate = {
		if = {
			limit = { in_faction = faction_court }
			liege = {
				random_vassal = {
					limit = { leads_faction = faction_court }
					save_event_target_as = target_faction_leader
				}
			}
		}
		if = {
			limit = { in_faction = faction_prosperity }
			liege = {
				random_vassal = {
					limit = { leads_faction = faction_prosperity }
					save_event_target_as = target_faction_leader
				}
			}
		}
		if = {
			limit = { in_faction = faction_glory }
			liege = {
				random_vassal = {
					limit = { leads_faction = faction_glory }
					save_event_target_as = target_faction_leader
				}
			}
		}
		if = {
			limit = { in_faction = faction_tradition }
			liege = {
				random_vassal = {
					limit = { leads_faction = faction_tradition }
					save_event_target_as = target_faction_leader
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_PlusFaction_111 #Agree to join his faction
		trigger = {
			ai = yes
			FROMFROM = {
				OR = {
					AND = {
						leads_faction = faction_court
						ROOT = { NOT = { in_faction = faction_court } }
					}
					AND = {
						leads_faction = faction_prosperity
						ROOT = { NOT = { in_faction = faction_prosperity } }
					}
					AND = {
						leads_faction = faction_glory
						ROOT = { NOT = { in_faction = faction_glory } }
					}
					AND = {
						leads_faction = faction_tradition
						ROOT = {
							religion = FROMFROM
							NOT = {
								in_faction = faction_tradition
								trait = excommunicated
								trait = cynical
							}
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				FROMFROM = { leads_faction = faction_court }
				OR = {
					trait = charitable
					trait = humble
					trait = content
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_court }
				OR = {
					trait = ambitious
					trait = proud
					trait = greedy
					trait = envious
					trait = gluttonous
				}
			}
			modifier = {
				factor = 0.5
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					trait = charitable
					trait = slothful
					trait = trusting
					capital_holding = { holding_type = temple }
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					trait = greedy
					trait = diligent
					trait = gardener
					trait = administrator
					trait = architect
				}
			}
			modifier = {
				factor = 0.5
				FROMFROM = { leads_faction = faction_glory }
				OR = {
					trait = kind
					trait = patient
					trait = craven
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_glory }
				OR = {
					trait = brave
					trait = wroth
					trait = cruel
					trait = hunter
					trait = duelist
					trait = impaler
					trait = strategist
				}
			}
			modifier = {
				factor = 0.5
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					trait = proud
					is_patrician = yes
					is_republic = yes
					is_merchant_republic = yes
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_tradition }
				trait = zealous
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					trait = content
					trait = humble
					trait = temperate
					trait = hafiz
					trait = faqih
					trait = theologian
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					is_patrician = yes
					is_republic = yes
					is_merchant_republic = yes
					trait = greedy
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					capital_holding = { holding_type = temple }
					trait = zealous
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_court }
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_glory }
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			modifier = {
				factor = 1.2
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 0.9
				FROMFROM = { NOT = { diplomacy = 3 } }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { NOT = { diplomacy = 5 } }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 14 }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 16 }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 18 }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 20 }
			}
			modifier = {
				factor = 0
				NOT = { opinion = { who = FROMFROM value = 0 } }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROMFROM value = 25 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROMFROM value = 75 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = event_target:target_faction_leader value = 25 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = event_target:target_faction_leader value = 50 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = event_target:target_faction_leader value = 75 }
			}
			modifier = {
				factor = 1.2
				NOT = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
			}
			modifier = {
				factor = 1.2
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
				NOT = { opinion = { who = event_target:target_faction_leader value = -25 } }
			}
			modifier = {
				factor = 1.2
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
				NOT = { opinion = { who = event_target:target_faction_leader value = -50 } }
			}
			modifier = {
				factor = 1.2
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
				NOT = { opinion = { who = event_target:target_faction_leader value = -75 } }
			}
			modifier = {
				factor = 0.5
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
				likes_better_than = { who = event_target:target_faction_leader than = FROMFROM }
			}
		}
		if = {
			limit = { FROMFROM = { leads_faction = faction_court } }
			set_character_flag = faction_court_supporter
			clr_character_flag = faction_prosperity_supporter
			clr_character_flag = faction_glory_supporter
			clr_character_flag = faction_tradition_supporter
		}
		if = {
			limit = { FROMFROM = { leads_faction = faction_prosperity } }
			clr_character_flag = faction_court_supporter
			set_character_flag = faction_prosperity_supporter
			clr_character_flag = faction_glory_supporter
			clr_character_flag = faction_tradition_supporter
		}
		if = {
			limit = { FROMFROM = { leads_faction = faction_glory } }
			clr_character_flag = faction_court_supporter
			clr_character_flag = faction_prosperity_supporter
			set_character_flag = faction_glory_supporter
			clr_character_flag = faction_tradition_supporter
		}
		if = {
			limit = { FROMFROM = { leads_faction = faction_tradition } }
			clr_character_flag = faction_court_supporter
			clr_character_flag = faction_prosperity_supporter
			clr_character_flag = faction_glory_supporter
			set_character_flag = faction_tradition_supporter
		}
		opinion = { who = FROMFROM modifier = pleasant_meeting multiplier = 2 months = 60 }
		FROMFROM = { character_event = { id = PlusFaction.112 } }
		random = {
			chance = 50
			modifier = {
				factor = 0.75
				event_target:target_faction_leader = { NOT = { intrigue = 3 } }
			}
			modifier = {
				factor = 0.75
				event_target:target_faction_leader = { NOT = { intrigue = 6 } }
			}
			modifier = {
				factor = 1.25
				event_target:target_faction_leader = { intrigue = 10 }
			}
			modifier = {
				factor = 1.25
				event_target:target_faction_leader = { intrigue = 15 }
			}
			event_target:target_faction_leader = { character_event = { id = PlusFaction.113 } }
		}
	}
	option = {
		name = EVTOPTB_PlusFaction_111 #Have a pleasant chat, but promise nothing
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.75
				FROMFROM = { leads_faction = faction_court }
				OR = {
					trait = charitable
					trait = humble
					trait = content
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_court }
				OR = {
					trait = ambitious
					trait = proud
					trait = greedy
					trait = envious
					trait = gluttonous
				}
			}
			modifier = {
				factor = 0.75
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					trait = charitable
					trait = slothful
					trait = trusting
					capital_holding = { holding_type = temple }
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					trait = greedy
					trait = diligent
					trait = gardener
					trait = administrator
					trait = architect
				}
			}
			modifier = {
				factor = 0.75
				FROMFROM = { leads_faction = faction_glory }
				OR = {
					trait = kind
					trait = patient
					trait = craven
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_glory }
				OR = {
					trait = brave
					trait = wroth
					trait = cruel
					trait = hunter
					trait = duelist
					trait = impaler
					trait = strategist
				}
			}
			modifier = {
				factor = 0.75
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					trait = proud
					is_patrician = yes
					is_republic = yes
					is_merchant_republic = yes
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					trait = zealous
					trait = content
					trait = humble
					trait = temperate
					trait = hafiz
					trait = faqih
					trait = theologian
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_prosperity }
				OR = {
					is_patrician = yes
					is_republic = yes
					is_merchant_republic = yes
					trait = greedy
				}
			}
			modifier = {
				factor = 1.5
				FROMFROM = { leads_faction = faction_tradition }
				OR = {
					capital_holding = { holding_type = temple }
					trait = zealous
				}
			}
			modifier = {
				factor = 0.9
				FROMFROM = { NOT = { diplomacy = 3 } }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { NOT = { diplomacy = 5 } }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 14 }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 16 }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 18 }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { diplomacy = 20 }
			}
		}
		opinion = { who = FROMFROM modifier = pleasant_meeting months = 60 }
		hidden_tooltip = {
			FROMFROM = { character_event = { id = PlusFaction.114 } }
		}
	}
	option = {
		name = {
			text = EVTOPTC_PlusFaction_111 #Send him away, but tell no-one
			trigger = {
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
			}
		}
		name = {
			text = EVTOPTD_PlusFaction_111 #Send him on his way
			trigger = {
				NOT = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 1.1
				FROMFROM = { NOT = { diplomacy = 3 } }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { NOT = { diplomacy = 5 } }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 14 }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 16 }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 18 }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 20 }
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = FROMFROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = 0 } }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROMFROM value = 25 }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROMFROM value = 75 }
			}
			modifier = {
				factor = 0.5
				NOT = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
			}
		}
		opinion = { who = FROMFROM modifier = unpleasant_meeting months = 60 }
		hidden_tooltip = {
			FROMFROM = { character_event = { id = PlusFaction.115 } }
		}
	}
	option = {
		name = EVTOPTE_PlusFaction_111 #Send him away and tell faction leader
		trigger = {
			OR = {
				in_faction = faction_court
				in_faction = faction_prosperity
				in_faction = faction_glory
				in_faction = faction_tradition
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.1
				FROMFROM = { NOT = { diplomacy = 3 } }
			}
			modifier = {
				factor = 1.1
				FROMFROM = { NOT = { diplomacy = 5 } }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 14 }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 16 }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 18 }
			}
			modifier = {
				factor = 0.9
				FROMFROM = { diplomacy = 20 }
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = FROMFROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = 0 } }
			}
			modifier = {
				factor = 0.6
				opinion = { who = FROMFROM value = 25 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = FROMFROM value = 75 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = event_target:target_faction_leader value = 25 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = event_target:target_faction_leader value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = event_target:target_faction_leader value = 75 }
			}
			modifier = {
				factor = 0.5
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
				NOT = { opinion = { who = event_target:target_faction_leader value = -25 } }
			}
			modifier = {
				factor = 0
				OR = {
					in_faction = faction_court
					in_faction = faction_prosperity
					in_faction = faction_glory
					in_faction = faction_tradition
				}
				NOT = { opinion = { who = event_target:target_faction_leader value = -50 } }
			}
		}
		opinion = { who = FROMFROM modifier = unpleasant_meeting multiplier = 2 months = 60 }
		event_target:target_faction_leader = { letter_event = { id = PlusFaction.117 tooltip = INFORM_FACTION_LEADER } }
		hidden_tooltip = {
			FROMFROM = { character_event = { id = PlusFaction.116 } }
		}
	}
}

# Ruler agreed to join the faction
character_event = {
	id = PlusFaction.112
	desc = EVTDESC_PlusFaction_112
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EXCELLENT
		opinion = { who = FROM modifier = pleasant_meeting multiplier = 2 months = 60 }
	}
}

# Ruler's faction leader learned about the poaching
character_event = {
	id = PlusFaction.113
	desc = EVTDESC_PlusFaction_113
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_PlusFaction_113
		opinion = { who = FROM modifier = opinion_disappointed months = 60 }
		opinion = { who = FROMFROMFROM modifier = poached_faction_member months = 60 }
	}
}

# Ruler refused to join the faction, but the meeting went well
character_event = {
	id = PlusFaction.114
	desc = EVTDESC_PlusFaction_114
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_PlusFaction_114
		opinion = { who = FROM modifier = pleasant_meeting months = 60 }
	}
}

# Faction leader was sent away
character_event = {
	id = PlusFaction.115
	desc = EVTDESC_PlusFaction_115
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = CURSES
		opinion = { who = FROM modifier = opinion_rebuffed_recruitment months = 60 }
	}
}

# Faction leader was sent away and own faction told
character_event = {
	id = PlusFaction.116
	desc = EVTDESC_PlusFaction_116
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = CURSES
		opinion = { who = FROM modifier = opinion_rebuffed_recruitment months = 120 }
	}
}

# Ruler's own faction leader informed about the poaching attempt
letter_event = {
	id = PlusFaction.117
	desc = EVTDESC_PlusFaction_117
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_PlusFaction_113
		opinion = { who = FROM modifier = opinion_pleased months = 60 }
		opinion = { who = FROMFROMFROM modifier = attempted_poach_faction months = 120 }
	}
}

### FACTION DISPUTE EVENTS

# Faction member has a dispute with faction leader
character_event = {
	id = PlusFaction.120
	desc = EVTDESC_PlusFaction_120
	picture = GFX_evt_rival_rulers
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		is_ill = no
		OR = {
			leads_faction = faction_court
			leads_faction = faction_prosperity
			leads_faction = faction_glory
			leads_faction = faction_tradition
		}
		liege = {
			any_vassal = {
				ai = yes
				war = no
				is_adult = yes
				prisoner = no
				is_ill = no
				NOT = {
					opinion = { who = ROOT value = 0 }
					trait = incapable
					trait = in_hiding
					has_character_modifier = do_not_disturb
				}
				OR = {
					AND = {
						in_faction = faction_court
						ROOT = { leads_faction = faction_court }
					}
					AND = {
						in_faction = faction_prosperity
						ROOT = { leads_faction = faction_prosperity }
					}
					AND = {
						in_faction = faction_glory
						ROOT = { leads_faction = faction_glory }
					}
					AND = {
						in_faction = faction_tradition
						ROOT = { leads_faction = faction_tradition }
					}
				}
			}
		}
		NOT = {
			trait = in_hiding
			has_character_modifier = do_not_disturb
		}
		OR = {
			NOT = { has_character_flag = had_faction_dispute }
			had_character_flag = { flag = had_faction_dispute days = 1825 }
		}
	}
	
	mean_time_to_happen = {
		months = 250
		modifier = {
			factor = 0.5
			liege = {
				any_vassal = {
					ai = yes
					war = no
					is_adult = yes
					prisoner = no
					is_ill = no
					NOT = {
						opinion = { who = ROOT value = -50 }
						trait = incapable
						trait = in_hiding
						has_character_modifier = do_not_disturb
					}
					OR = {
						AND = {
							in_faction = faction_court
							ROOT = { leads_faction = faction_court }
						}
						AND = {
							in_faction = faction_prosperity
							ROOT = { leads_faction = faction_prosperity }
						}
						AND = {
							in_faction = faction_glory
							ROOT = { leads_faction = faction_glory }
						}
						AND = {
							in_faction = faction_tradition
							ROOT = { leads_faction = faction_tradition }
						}
					}
				}
			}
		}
	}

	immediate = {
		set_character_flag = had_faction_dispute
		liege = {
			random_vassal = {
				limit = {
					ai = yes
					war = no
					is_adult = yes
					prisoner = no
					is_ill = no
					NOT = {
						opinion = { who = ROOT value = -50 }
						trait = incapable
						trait = in_hiding
						has_character_modifier = do_not_disturb
					}
					OR = {
						AND = {
							in_faction = faction_court
							ROOT = { leads_faction = faction_court }
						}
						AND = {
							in_faction = faction_prosperity
							ROOT = { leads_faction = faction_prosperity }
						}
						AND = {
							in_faction = faction_glory
							ROOT = { leads_faction = faction_glory }
						}
						AND = {
							in_faction = faction_tradition
							ROOT = { leads_faction = faction_tradition }
						}
					}
				}
				save_event_target_as = target_faction_dispute
				break = yes
			}
			random_vassal = {
				limit = {
					ai = yes
					war = no
					is_adult = yes
					prisoner = no
					is_ill = no
					NOT = {
						opinion = { who = ROOT value = 0 }
						trait = incapable
						trait = in_hiding
						has_character_modifier = do_not_disturb
					}
					OR = {
						AND = {
							in_faction = faction_court
							ROOT = { leads_faction = faction_court }
						}
						AND = {
							in_faction = faction_prosperity
							ROOT = { leads_faction = faction_prosperity }
						}
						AND = {
							in_faction = faction_glory
							ROOT = { leads_faction = faction_glory }
						}
						AND = {
							in_faction = faction_tradition
							ROOT = { leads_faction = faction_tradition }
						}
					}
				}
				save_event_target_as = target_faction_dispute
				break = yes
			}
		}
	}
	
	option = {
		name = EVTOPTA_PlusFaction_120 # So be it
		reverse_opinion = { who = event_target:target_faction_dispute modifier = opinion_dispute months = 60 }
		hidden_tooltip = {
			opinion = { who = event_target:target_faction_dispute modifier = opinion_dispute months = 60 }
			event_target:target_faction_dispute = {
				if = {
					limit = { is_rival = ROOT }
					clr_character_flag = faction_court_supporter
					clr_character_flag = faction_prosperity_supporter
					clr_character_flag = faction_glory_supporter
					clr_character_flag = faction_tradition_supporter
				}
				if = {
					limit = {
						NOT = { opinion = { who = ROOT value = -50 } }
						NOT = { is_rival = ROOT }
					}
					random_list = {
						50 = { add_rival = ROOT }
						50 = {
							clr_character_flag = faction_court_supporter
							clr_character_flag = faction_prosperity_supporter
							clr_character_flag = faction_glory_supporter
							clr_character_flag = faction_tradition_supporter
						}
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTB_PlusFaction_120 # Try to sweet talk him
		trigger = { diplomacy = 12 }
		tooltip_info = diplomacy
		random_list = {
			50 = {
				modifier = {
					factor = 1.2
					diplomacy = 14
				}
				modifier = {
					factor = 1.2
					diplomacy = 16
				}
				modifier = {
					factor = 1.2
					diplomacy = 18
				}
				modifier = {
					factor = 1.2
					diplomacy = 20
				}
				custom_tooltip = { text = SMOOTH_THINGS_OVER }
				hidden_tooltip = {
					clr_character_flag = had_faction_dispute
					break = yes
				}
			}
			50 = {
				reverse_opinion = { who = event_target:target_faction_dispute modifier = opinion_dispute months = 60 }
			}
			10 = {
				custom_tooltip = { text = MAKE_THINGS_WORSE }
				reverse_opinion = { who = event_target:target_faction_dispute modifier = opinion_dispute multiplier = 2 months = 60 }
			}
		}
		hidden_tooltip = {
			event_target:target_faction_dispute = {
				if = {
					limit = { is_rival = ROOT }
					clr_character_flag = faction_court_supporter
					clr_character_flag = faction_prosperity_supporter
					clr_character_flag = faction_glory_supporter
					clr_character_flag = faction_tradition_supporter
				}
				if = {
					limit = {
						NOT = { opinion = { who = ROOT value = -50 } }
						NOT = { is_rival = ROOT }
					}
					random_list = {
						50 = { add_rival = ROOT }
						50 = {
							clr_character_flag = faction_court_supporter
							clr_character_flag = faction_prosperity_supporter
							clr_character_flag = faction_glory_supporter
							clr_character_flag = faction_tradition_supporter
						}
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTC_PlusFaction_120 # Put him in his place
		trigger = {
			intrigue = 12
			higher_tier_than = event_target:target_faction_dispute
		}
		tooltip_info = intrigue
		random_list = {
			50 = {
				modifier = {
					factor = 1.2
					intrigue = 14
				}
				modifier = {
					factor = 1.2
					intrigue = 16
				}
				modifier = {
					factor = 1.2
					intrigue = 18
				}
				modifier = {
					factor = 1.2
					intrigue = 20
				}
				custom_tooltip = { text = SMOOTH_THINGS_OVER }
				hidden_tooltip = {
					clr_character_flag = had_faction_dispute
					break = yes
				}
			}
			50 = {
				reverse_opinion = { who = event_target:target_faction_dispute modifier = opinion_dispute months = 60 }
			}
			10 = {
				custom_tooltip = { text = MAKE_THINGS_WORSE }
				reverse_opinion = { who = event_target:target_faction_dispute modifier = opinion_dispute multiplier = 2 months = 60 }
			}
		}
		hidden_tooltip = {
			event_target:target_faction_dispute = {
				if = {
					limit = { is_rival = ROOT }
					clr_character_flag = faction_court_supporter
					clr_character_flag = faction_prosperity_supporter
					clr_character_flag = faction_glory_supporter
					clr_character_flag = faction_tradition_supporter
				}
				if = {
					limit = {
						NOT = { opinion = { who = ROOT value = -50 } }
						NOT = { is_rival = ROOT }
					}
					random_list = {
						50 = { add_rival = ROOT }
						50 = {
							clr_character_flag = faction_court_supporter
							clr_character_flag = faction_prosperity_supporter
							clr_character_flag = faction_glory_supporter
							clr_character_flag = faction_tradition_supporter
						}
					}
				}
			}
		}
	}
}

### FACTION COURTING EVENTS

# Faction member begins to court another faction member
character_event = {
	id = PlusFaction.125
	picture = GFX_evt_shadowy_cabal
	
	desc = {
		text = EVTDESC_PlusFaction_125A
		trigger = {
			OR = {
				in_faction = faction_court
				leads_faction = faction_court
			}
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_125B
		trigger = {
			OR = {
				in_faction = faction_prosperity
				leads_faction = faction_prosperity
			}
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_125C
		trigger = {
			OR = {
				in_faction = faction_glory
				leads_faction = faction_glory
			}
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_125D
		trigger = {
			OR = {
				in_faction = faction_tradition
				leads_faction = faction_tradition
			}
		}
	}
	
	show_from = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_PlusFaction_125
		random_list = {
			40 = {
				modifier = {
					factor = 1.2
					diplomacy = 12
				}
				modifier = {
					factor = 1.2
					diplomacy = 14
				}
				modifier = {
					factor = 1.2
					diplomacy = 16
				}
				modifier = {
					factor = 1.2
					diplomacy = 18
				}
				modifier = {
					factor = 1.2
					diplomacy = 20
				}
				modifier = {
					factor = 1.5
					OR = {
						dynasty = FROM
						is_close_relative = FROM
						is_lover = FROM
						is_married = FROM
					}
				}
				modifier = {
					factor = 1.2
					OR = {
						trait = trusting
						FROM = { trait = trusting }
					}
				}
				modifier = {
					factor = 0.8
					trait = greedy
					FROM = { trait = charitable }
				}
				modifier = {
					factor = 0.8
					trait = charitable
					FROM = { trait = greedy }
				}
				modifier = {
					factor = 0.8
					trait = kind
					FROM = { trait = cruel }
				}
				modifier = {
					factor = 0.8
					trait = cruel
					FROM = { trait = kind }
				}
				modifier = {
					factor = 0.8
					trait = deceitful
					FROM = { trait = honest }
				}
				modifier = {
					factor = 0.8
					trait = honest
					FROM = { trait = deceitful }
				}
				modifier = {
					factor = 0.8
					trait = zealous
					FROM = { trait = cynical }
				}
				modifier = {
					factor = 0.8
					trait = cynical
					FROM = { trait = zealous }
				}
				modifier = {
					factor = 0.8
					trait = just
					FROM = { trait = arbitrary }
				}
				modifier = {
					factor = 0.8
					trait = arbitrary
					FROM = { trait = just }
				}
				modifier = {
					factor = 0.8
					OR = {
						trait = paranoid
						FROM = { trait = paranoid }
					}
				}
				modifier = {
					factor = 0.8
					OR = {
						trait = shy
						FROM = { trait = shy }
					}
				}
				custom_tooltip = { text = COURT_GOOD_MEETING }
				hidden_tooltip = { character_event = { id = PlusFaction.126 days = 15 } }
			}
			40 = {
				custom_tooltip = { text = COURT_NOTHING_HAPPENS }
				hidden_tooltip = { character_event = { id = PlusFaction.127 days = 15 } }
			}
			20 = {
				modifier = {
					factor = 2
					FROM = {
						any_claim = { holder_scope = { character = ROOT } }
					}
				}
				modifier = {
					factor = 2
					OR = {
						trait = lunatic
						trait = possessed
						FROM = { trait = lunatic }
						FROM = { trait = possessed }
					}
				}
				modifier = {
					factor = 1.5
					NOT = { culture = FROM }
				}
				modifier = {
					factor = 2
					NOT = { culture_group = FROM }
				}
				modifier = {
					factor = 1.5
					NOT = { religion = FROM }
				}
				modifier = {
					factor = 2
					NOT = { religion_group = FROM }
				}
				modifier = {
					factor = 1.5
					NOT = { reverse_opinion = { who = FROM value = 0 } }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 8 }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 6 }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 4 }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 2 }
				}
				modifier= {
					factor = 0.8
					opinion = { who = FROM value = 0 }
					reverse_opinion = { who = FROM value = 0 }
				}
				modifier= {
					factor = 0.8
					opinion = { who = FROM value = 25 }
					reverse_opinion = { who = FROM value = 25 }
				}
				custom_tooltip = { text = COURT_POOR_MEETING }
				hidden_tooltip = { character_event = { id = PlusFaction.128 days = 15 } }
			}
		}
	}
}

# The meeting with the faction member goes well
character_event = {
	id = PlusFaction.126
	desc = EVTDESC_PlusFaction_126
	picture = GFX_evt_shadowy_cabal
	
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = EXCELLENT
		prestige = 25
		random_list = {
			75 = {
				reverse_opinion = { who = FROMFROM modifier = pleasant_meeting months = 60 }
			}
			25 = {
				modifier = {
					factor = 1.2
					diplomacy = 12
				}
				modifier = {
					factor = 1.2
					diplomacy = 14
				}
				modifier = {
					factor = 1.2
					diplomacy = 16
				}
				modifier = {
					factor = 1.2
					diplomacy = 18
				}
				modifier = {
					factor = 1.2
					diplomacy = 20
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 8 }
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 6 }
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 4 }
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 2 }
				}
				reverse_opinion = { who = FROMFROM modifier = pleasant_meeting multiplier = 2 months = 60 }
			}
		}
	}
}

# The meeting with the faction member produces no results
character_event = {
	id = PlusFaction.127
	desc = EVTDESC_PlusFaction_127
	picture = GFX_evt_shadowy_cabal
	
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}

# The meeting with the faction member goes poorly
character_event = {
	id = PlusFaction.128
	desc = EVTDESC_PlusFaction_128
	picture = GFX_evt_shadowy_cabal
	
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = CURSES
		prestige = -25
		random_list = {
			75 = {
				reverse_opinion = { who = FROMFROM modifier = unpleasant_meeting months = 60 }
			}
			25 = {
				modifier = {
					factor = 0.8
					diplomacy = 12
				}
				modifier = {
					factor = 0.8
					diplomacy = 14
				}
				modifier = {
					factor = 0.8
					diplomacy = 16
				}
				modifier = {
					factor = 0.8
					diplomacy = 18
				}
				modifier = {
					factor = 0.8
					diplomacy = 20
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 8 }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 6 }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 4 }
				}
				modifier = {
					factor = 1.2
					NOT = { diplomacy = 2 }
				}
				reverse_opinion = { who = FROMFROM modifier = unpleasant_meeting multiplier = 2 months = 60 }
			}
		}
	}
}

### SEEKING SUPPORT FOR A PRETENDER

# Ruler approaches fellow vassal to seek support for a claimant
character_event = {
	id = PlusFaction.130
	picture = GFX_evt_shadowy_cabal
	
	show_from = yes
	is_triggered_only = yes
	
	desc = {
		text = EVTDESC_PlusFaction_130A
		trigger = {
			supported_claimant = { character = ROOT }
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_130B
		trigger = {
			supported_claimant = { NOT = { character = ROOT } }
		}
	}
	
	immediate = {
		supported_claimant = { save_event_target_as = target_claimant }
		supported_claimant_title = {
			save_event_target_as = target_claimed_title
			holder_scope = { save_event_target_as = target_title_holder }
		}
	}
	
	option = {
		name = EVTOPTA_PlusFaction_130
		random_list = {
			60 = {
				modifier = {
					factor = 0.5
					FROM = {
						NOT = {
							dynasty = event_target:target_claimant
							is_close_relative = event_target:target_claimant
							any_spouse = { dynasty = event_target:target_claimant }
						}
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						is_close_relative = event_target:target_claimant
						NOT = { is_close_relative = event_target:target_title_holder }
					}
				}
				modifier = {
					factor = 1.25
					FROM = {
						NOT = { is_close_relative = event_target:target_claimant }
						dynasty = event_target:target_claimant
						NOT = { dynasty = event_target:target_title_holder }
					}
				}
				modifier = {
					factor = 0.75
					FROM = {
						NOT = { dynasty = event_target:target_claimant }
						dynasty = event_target:target_title_holder
					}
				}
				modifier = {
					factor = 0.75
					FROM = {
						NOT = { culture = event_target:target_claimant }
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						culture = event_target:target_claimant
						NOT = { culture = event_target:target_title_holder }
					}
				}
				modifier = {
					factor = 2
					FROM = {
						NOT = { religion = event_target:target_title_holder }
					}
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 8 }
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 6 }
				}
				modifier = {
					factor = 0.8
					NOT = { diplomacy = 4 }
				}
				modifier = {
					factor = 1.2
					diplomacy = 12
				}
				modifier = {
					factor = 1.2
					diplomacy = 14
				}
				modifier = {
					factor = 1.2
					diplomacy = 16
				}
				modifier = {
					factor = 1.2
					diplomacy = 18
				}
				modifier = {
					factor = 1.2
					diplomacy = 20
				}
				modifier = {
					factor = 0.8
					FROM = { NOT = { opinion = { who = ROOT value = 0 } } }
				}
				modifier = {
					factor = 0.5
					FROM = { NOT = { opinion = { who = ROOT value = -25 } } }
				}
				modifier = {
					factor = 0.5
					FROM = { NOT = { opinion = { who = ROOT value = -50 } } }
				}
				modifier = {
					factor = 0.5
					FROM = { NOT = { opinion = { who = ROOT value = -75 } } }
				}
				modifier = {
					factor = 1.2
					FROM = { opinion = { who = ROOT value = 25 } }
				}
				modifier = {
					factor = 1.2
					FROM = { opinion = { who = ROOT value = 50 } }
				}
				modifier = {
					factor = 1.2
					FROM = { opinion = { who = ROOT value = 75 } }
				}
				modifier = {
					factor = 1.2
					FROM = { NOT = { opinion = { who = event_target:target_title_holder value = -25 } } }
				}
				modifier = {
					factor = 1.2
					FROM = { NOT = { opinion = { who = event_target:target_title_holder value = -50 } } }
				}
				modifier = {
					factor = 1.2
					FROM = { NOT = { opinion = { who = event_target:target_title_holder value = -75 } } }
				}
				modifier = {
					factor = 0.8
					FROM = { opinion = { who = event_target:target_title_holder value = 0 } }
				}
				modifier = {
					factor = 0.8
					FROM = { opinion = { who = event_target:target_title_holder value = 25 } }
				}
				modifier = {
					factor = 0.5
					FROM = { opinion = { who = event_target:target_title_holder value = 50 } }
				}
				modifier = {
					factor = 0.5
					FROM = { opinion = { who = event_target:target_title_holder value = 75 } }
				}
				custom_tooltip = { text = RULER_SUPPORTS_CLAIMANT }
				hidden_tooltip = { character_event = { id = PlusFaction.131 days = 15 } }
			}
			30 = {
				custom_tooltip = { text = COURT_NOTHING_HAPPENS }
				hidden_tooltip = { character_event = { id = PlusFaction.132 days = 15 } }
			}
			10 = {
				custom_tooltip = { text = COURT_POOR_MEETING }
				hidden_tooltip = { character_event = { id = PlusFaction.133 days = 15 } }
			}
		}
	}
}

# Fellow vassal is convinced to support the claimant
character_event = {
	id = PlusFaction.131
	picture = GFX_evt_shadowy_cabal
	
	desc = {
		text = EVTDESC_PlusFaction_131A
		trigger = {
			supported_claimant = { character = ROOT }
		}
	}
	desc = {
		text = EVTDESC_PlusFaction_131B
		trigger = {
			supported_claimant = { NOT = { character = ROOT } }
		}
	}
	
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = EXCELLENT
		prestige = 25
		FROMFROM = {
			opinion = { who = event_target:target_claimant modifier = opinion_support_claimant months = 60 }
			if = {
				limit = {
					event_target:target_claimant = { NOT = { character = ROOT } }
				}
				opinion = { who = ROOT modifier = pleasant_meeting months = 60 }
			}
		}
	}
}

# The meeting with the fellow vassal goes nowhere
character_event = {
	id = PlusFaction.132
	desc = EVTDESC_PlusFaction_132
	picture = GFX_evt_shadowy_cabal
	
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = CURSES
		prestige = -25
	}
}

# The meeting with the fellow vassal goes poorly
character_event = {
	id = PlusFaction.133
	desc = EVTDESC_PlusFaction_133
	picture = GFX_evt_shadowy_cabal
	
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = CURSES
		prestige = -50
		random_list = {
			60 = {
				reverse_opinion = { who = FROMFROM modifier = unpleasant_meeting months = 60 }
			}
			40 = {
				reverse_opinion = { who = FROMFROM modifier = unpleasant_meeting multiplier = 2 months = 60 }
			}
		}
	}
}

