namespace = PlusFaction

#reserved: PlusFaction.350 to PlusFaction.399

########################################
# FACTION EVENTS -- ULTIMATUMS & GIFTS
########################################

### COURT FACTION

# Court faction - give prestige to liege
letter_event = {
	id = PlusFaction.350 #formerly 1000182462
	desc = "EVTDESC_PlusFaction_350"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		if = {
			limit = {
				FROM = {
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 0.5
								}
							}
						}
					}
				}
			}
			prestige = 50
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_court_emperor
							faction_power =
							{
								faction = faction_court_emperor
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_court_king
							faction_power =
							{
								faction = faction_court_king
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_court_duke
							faction_power =
							{
								faction = faction_court_duke
								power = 0.5
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
			prestige = 100
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_court_emperor
							faction_power =
							{
								faction = faction_court_emperor
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_court_king
							faction_power =
							{
								faction = faction_court_king
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_court_duke
							faction_power =
							{
								faction = faction_court_duke
								power = 1.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 2.0
								}
							}
						}
					}
				}
			}
			prestige = 150
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_court_emperor
							faction_power =
							{
								faction = faction_court_emperor
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_court_king
							faction_power =
							{
								faction = faction_court_king
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_court_duke
							faction_power =
							{
								faction = faction_court_duke
								power = 2.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 3.0
								}
							}
						}
					}
				}
			}
			prestige = 200
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_court_emperor
							faction_power =
							{
								faction = faction_court_emperor
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_court_king
							faction_power =
							{
								faction = faction_court_king
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_court_duke
							faction_power =
							{
								faction = faction_court_duke
								power = 3.0
							}
						}
					}
				}
			}
			prestige = 250
		}
	}
}

# Court faction - financial contribution to liege
letter_event = {
	id = PlusFaction.351 #formerly 1000182463
	desc = "EVTDESC_PlusFaction_351"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		any_vassal = {
			limit = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke
					in_faction = faction_court_emperor
					in_faction = faction_court_king
					in_faction = faction_court_duke
				}
			}
			if = { limit = { tier = king } ROOT = { wealth = 30 } }
			if = { limit = { tier = duke } ROOT = { wealth = 20 } }
			if = { limit = { tier = count } ROOT = { wealth = 10 } }
		}
	}
}

# Court faction - demand lifetime appointments
letter_event = {
	id = PlusFaction.352 #formerly 1000182464
	desc = "EVTDESC_PlusFaction_352"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #Agree to the demand
		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			add_law_w_cooldown = council_privileges_1
		}
		#court faction is happy
		custom_tooltip = {
			text = COURTFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the court faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke
					}
				}
				character_event = { id = PlusFaction.119 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 75
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#court faction is unhappy
		custom_tooltip = {
			text = COURTFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = -3 } }
		}
		#inform the court faction of refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke
					}
				}
				character_event = { id = PlusFaction.118 }
			}
		}
	}
}

# Court faction - demand reduction in levies
letter_event = {
	id = PlusFaction.353 #formerly 1000182561
	desc = "EVTDESC_PlusFaction_353"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demand
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			add_law_w_cooldown = levy_privileges_1
		}
		#court faction is happy
		custom_tooltip = {
			text = COURTFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke
					}
				}
				character_event = { id = PlusFaction.117 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#court faction is unhappy
		custom_tooltip = {
			text = COURTFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the court faction of refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke
					}
				}
				character_event = { id = PlusFaction.116 }
			}
		}
	}
}

# Court faction - demand change in tax privileges
letter_event = {
	id = PlusFaction.354 #formerly 1000182562
	desc = "EVTDESC_PlusFaction_354"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demand
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = tax_privileges_1 }
				add_law_w_cooldown = tax_privileges_2
			}
			if = {
				limit = { has_law = tax_privileges_0 }
				add_law_w_cooldown = tax_privileges_1
			}
		}
		#court faction is happy
		custom_tooltip = {
			text = COURTFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke
					}
				}
				character_event = { id = PlusFaction.115 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#court faction is unhappy
		custom_tooltip = {
			text = COURTFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the court faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke
					}
				}
				character_event = { id = PlusFaction.114 }
			}
		}
	}
}

### PRINCELY FACTION

# Princely faction - demand reduction in CA
letter_event = {
	id = PlusFaction.360 #formerly 1000182937
	desc = "EVTDESC_PlusFaction_360"
	
	is_triggered_only = yes

	option = {
		name = "EVTULTIMATUMNO" #refuse
		ai_chance = {
			factor = 90
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 10.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 2.0
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#princely faction unhappy
		custom_tooltip = {
			text = FEUDALFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform princely faction of refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.110 }
			}
		}
	}
	option = {
		name = "EVTULTIMATUMYES" #agree to the demand
		ai_chance = {
			factor = 10
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		any_demesne_title = {
			limit = {
				OR = {
					tier = king
					tier = emperor
				}
				NOT = { has_law = crown_authority_0 }
			}
			if = {
				limit = { has_law = crown_authority_1 }
				add_law_w_cooldown = crown_authority_0
			}
			if = {
				limit = { has_law = crown_authority_2 }
				add_law_w_cooldown = crown_authority_1
			}
			if = {
				limit = { has_law = crown_authority_3 }
				add_law_w_cooldown = crown_authority_2
			}
			if = {
				limit = { has_law = crown_authority_4 }
				add_law_w_cooldown = crown_authority_3
			}
		}
		#princely faction is happy
		custom_tooltip = {
			text = FEUDALFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.111 }
			}
		}
	}
}

# Princely faction - grant liege extra levies for 5 years
letter_event = {
	id = PlusFaction.361 #formerly 1000182939
	desc = "EVTDESC_PlusFaction_361"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		if = {
			limit = {
				FROM = {
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 0.5
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_feudal_bonus_1
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_feudal_emperor
							faction_power =
							{
								faction = faction_feudal_emperor
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_feudal_king
							faction_power =
							{
								faction = faction_feudal_king
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_feudal_duke
							faction_power =
							{
								faction = faction_feudal_duke
								power = 0.5
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_feudal_bonus_2
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_feudal_emperor
							faction_power =
							{
								faction = faction_feudal_emperor
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_feudal_king
							faction_power =
							{
								faction = faction_feudal_king
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_feudal_duke
							faction_power =
							{
								faction = faction_feudal_duke
								power = 1.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 2.0
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_feudal_bonus_3
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_feudal_emperor
							faction_power =
							{
								faction = faction_feudal_emperor
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_feudal_king
							faction_power =
							{
								faction = faction_feudal_king
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_feudal_duke
							faction_power =
							{
								faction = faction_feudal_duke
								power = 2.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 3.0
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_feudal_bonus_4
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_feudal_emperor
							faction_power =
							{
								faction = faction_feudal_emperor
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_feudal_king
							faction_power =
							{
								faction = faction_feudal_king
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_feudal_duke
							faction_power =
							{
								faction = faction_feudal_duke
								power = 3.0
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_feudal_bonus_5
				duration = 1825
			}
		}
	}
}

# Princely faction - financial contribution to liege
letter_event = {
	id = PlusFaction.362 #formerly 1000182940
	desc = "EVTDESC_PlusFaction_362"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		any_vassal = {
			limit = {
				OR = {
					leads_faction = faction_feudal_emperor
					leads_faction = faction_feudal_king
					leads_faction = faction_feudal_duke
					in_faction = faction_feudal_emperor
					in_faction = faction_feudal_king
					in_faction = faction_feudal_duke
				}
			}
			if = { limit = { tier = king } ROOT = { wealth = 30 } }
			if = { limit = { tier = duke } ROOT = { wealth = 20 } }
			if = { limit = { tier = count } ROOT = { wealth = 10 } }
		}
	}
}

# Princely faction - demand reduction in feudal taxes
letter_event = {
	id = PlusFaction.363 #formerly 1000182941
	desc = "EVTDESC_PlusFaction_363"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demands
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = feudal_tax_1 }
				add_law_w_cooldown = feudal_tax_0
			}
			if = {
				limit = { has_law = feudal_tax_2 }
				add_law_w_cooldown = feudal_tax_1
			}
			if = {
				limit = { has_law = iqta_tax_1 }
				add_law_w_cooldown = iqta_tax_0
			}
			if = {
				limit = { has_law = iqta_tax_2 }
				add_law_w_cooldown = iqta_tax_1
			}
		}
		#princely faction is pleased
		custom_tooltip = {
			text = FEUDALFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.113 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#princely faction is unhappy
		custom_tooltip = {
			text = FEUDALFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.112 }
			}
		}
	}
}

# Princely faction - demand reduction in feudal levies
letter_event = {
	id = PlusFaction.364 #formerly 1000182942
	desc = "EVTDESC_PlusFaction_364"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demand
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			add_law_w_cooldown = levy_privileges_1
		}
		#princely faction is happy
		custom_tooltip = {
			text = FEUDALFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.117 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#princely faction is pleased
		custom_tooltip = {
			text = FEUDALFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.116 }
			}
		}
	}
}

# Princely faction - demand change in tax privileges
letter_event = {
	id = PlusFaction.365 #formerly 1000182943
	desc = "EVTDESC_PlusFaction_365"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demands
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = tax_privileges_1 }
				add_law_w_cooldown = tax_privileges_2
			}
			if = {
				limit = { has_law = tax_privileges_0 }
				add_law_w_cooldown = tax_privileges_1
			}
		}
		#princely faction is pleased
		custom_tooltip = {
			text = FEUDALFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.115 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#princely faction is unhappy
		custom_tooltip = {
			text = FEUDALFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_feudal" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke
					}
				}
				character_event = { id = PlusFaction.114 }
			}
		}
	}
}

### PRETENDER FACTION

# Pretender faction goes to war
character_event = {
	id = PlusFaction.366
	picture = "GFX_evt_battle"
	desc = "EVTDESC_PlusFaction_366"
	border = GFX_event_normal_frame_war

	only_rulers = yes
	prisoner = no
	capable_only = yes
	min_age = 16
	
	trigger = {
		ai = yes
		war = no
		leads_faction = faction_pretender
		faction_power = {
			faction = faction_pretender
			power = 0.75
		}
		liege = {
			NOT = {
				has_character_flag = faction_feudal_war
				has_character_flag = faction_republican_war
				has_character_flag = faction_religious_war
				has_character_flag = faction_court_war
				has_character_flag = faction_separatist_war
				has_character_flag = faction_pretender_war
			}
		}
		NOT = {
			has_character_modifier = do_not_disturb
			supported_claimant = {
				any_war = {
					OR = {
						AND = {
							any_attacker = { character = PREV }
							any_attacker = { 
								ROOT = {
									liege = {
										character = PREVPREV
									} 
								}
							}
						}
						AND = {
							any_defender = { character = PREV }
							any_defender = { 
								ROOT = {
									liege = {
										character = PREVPREV
									} 
								}
							}
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 3.0
			NOT = {
				faction_power = {
					faction = faction_pretender
					power = 1.0
				}
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_pretender
				power = 1.5
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_pretender
				power = 2.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_pretender
				power = 3.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_pretender
				power = 4.0
			}
		}
	}

	option = {
		name = "EVTOPTA_PlusFaction_366" #Make the demand!
		liege = {
			letter_event = { id = 8036 days = 7 tooltip = "EVTTOOLTIP8005" }
		}
		if = {
			limit = {
				supported_claimant = {
					NOT = { character = ROOT }
					OR = {
						NOT = { same_liege = ROOT }
						NOT = { in_faction = faction_pretender }
						NOT = { supported_claimant = { character = PREV } }
					}
				}
			}
			supported_claimant = {
				letter_event = { id = 8037 days = 1 }
			}
		}
		hidden_tooltip = {
			set_character_flag = faction_claimant_ultimatum_taken
		}
	}
}

### RELIGIOUS FACTION

# Religious faction - demand reduction in CA
letter_event = {
	id = PlusFaction.370 #formerly 1000182950
	desc = "EVTDESC_PlusFaction_370"
	
	is_triggered_only = yes

	option = {
		name = "EVTULTIMATUMNO" #refuse
		ai_chance = {
			factor = 90
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 10.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 2.0
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#religious faction is unhappy
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.110 }
			}
		}
	}
	option = {
		name = "EVTULTIMATUMYES" #agree to the demand
		ai_chance = {
			factor = 10
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		any_demesne_title = {
			limit = {
				OR = {
					tier = king
					tier = emperor
				}
				NOT = { has_law = crown_authority_0 }
			}
			if = {
				limit = { has_law = crown_authority_1 }
				add_law_w_cooldown = crown_authority_0
			}
			if = {
				limit = { has_law = crown_authority_2 }
				add_law_w_cooldown = crown_authority_1
			}
			if = {
				limit = { has_law = crown_authority_3 }
				add_law_w_cooldown = crown_authority_2
			}
			if = {
				limit = { has_law = crown_authority_4 }
				add_law_w_cooldown = crown_authority_3
			}
		}
		#religious faction is pleased
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.111 }
			}
		}
	}
}

# Religious faction - give piety to liege
letter_event = {
	id = PlusFaction.371 #formerly 1000182951
	desc = "EVTDESC_PlusFaction_371"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		if = {
			limit = {
				FROM = {
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 0.5
								}
							}
						}
					}
				}
			}
			piety = 25
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_religious_emperor
							faction_power =
							{
								faction = faction_religious_emperor
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_religious_king
							faction_power =
							{
								faction = faction_religious_king
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_religious_duke
							faction_power =
							{
								faction = faction_religious_duke
								power = 0.5
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
			piety = 50
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_religious_emperor
							faction_power =
							{
								faction = faction_religious_emperor
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_religious_king
							faction_power =
							{
								faction = faction_religious_king
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_religious_duke
							faction_power =
							{
								faction = faction_religious_duke
								power = 1.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 2.0
								}
							}
						}
					}
				}
			}
			piety = 75
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_religious_emperor
							faction_power =
							{
								faction = faction_religious_emperor
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_religious_king
							faction_power =
							{
								faction = faction_religious_king
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_religious_duke
							faction_power =
							{
								faction = faction_religious_duke
								power = 2.0
							}
						}
					}
					NOT = {
						AND = {
							leads_faction = faction_religious_emperor
							faction_power =
							{
								faction = faction_religious_emperor
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_religious_king
							faction_power =
							{
								faction = faction_religious_king
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_religious_duke
							faction_power =
							{
								faction = faction_religious_duke
								power = 3.0
							}
						}
					}
				}
			}
			piety = 100
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_religious_emperor
							faction_power =
							{
								faction = faction_religious_emperor
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_religious_king
							faction_power =
							{
								faction = faction_religious_king
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_religious_duke
							faction_power =
							{
								faction = faction_religious_duke
								power = 3.0
							}
						}
					}
				}
			}
			piety = 125
		}
	}
}

# Religious faction - financial contribution to liege
letter_event = {
	id = PlusFaction.372 #formerly 1000182952
	desc = "EVTDESC_PlusFaction_372"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		any_vassal = {
			limit = {
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke
					in_faction = faction_religious_emperor
					in_faction = faction_religious_king
					in_faction = faction_religious_duke
				}
			}
			if = { limit = { tier = king } ROOT = { wealth = 30 } }
			if = { limit = { tier = duke } ROOT = { wealth = 20 } }
			if = { limit = { tier = count } ROOT = { wealth = 10 } }
		}
	}
}

# Religious faction - demand reduction in temple taxes
letter_event = {
	id = PlusFaction.373 #formerly 1000182953
	desc = "EVTDESC_PlusFaction_373"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demands
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = temple_tax_1 }
				add_law_w_cooldown = temple_tax_0
			}
			if = {
				limit = { has_law = temple_tax_2 }
				add_law_w_cooldown = temple_tax_1
			}
		}
		#religious faction is pleased
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.113 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#religious faction is unhappy
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.112 }
			}
		}
	}
}

# Religious faction - demand reduction in levies
letter_event = {
	id = PlusFaction.374 #formerly 1000182954
	desc = "EVTDESC_PlusFaction_374"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to demands
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			add_law_w_cooldown = levy_privileges_1
		}
		#religious faction is pleased
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.117 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#religious faction is unhappy
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.116 }
			}
		}
	}
}

# Religious faction - demand change in tax privileges
letter_event = {
	id = PlusFaction.375 #formerly 1000182955
	desc = "EVTDESC_PlusFaction_375"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demands
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = tax_privileges_1 }
				add_law_w_cooldown = tax_privileges_2
			}
			if = {
				limit = { has_law = tax_privileges_0 }
				add_law_w_cooldown = tax_privileges_1
			}
		}
		#religious faction is pleased
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.115 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#religious faction is unhappy
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke
					}
				}
				character_event = { id = PlusFaction.114 }
			}
		}
	}
}

### REPUBLICAN FACTION

# Republican faction - demand reduction in CA
letter_event = {
	id = PlusFaction.380 #formerly 1000182956
	desc = "EVTDESC_PlusFaction_380"
	
	is_triggered_only = yes

	option = {
		name = "EVTULTIMATUMNO" #refuse
		ai_chance = {
			factor = 90
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 10.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 2.0
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#republican faction is unhappy
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.110 }
			}
		}
	}
	option = {
		name = "EVTULTIMATUMYES" #agree to the demand
		ai_chance = {
			factor = 10
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		any_demesne_title = {
			limit = {
				OR = {
					tier = king
					tier = emperor
				}
				NOT = { has_law = crown_authority_0 }
			}
			if = {
				limit = { has_law = crown_authority_1 }
				add_law_w_cooldown = crown_authority_0
			}
			if = {
				limit = { has_law = crown_authority_2 }
				add_law_w_cooldown = crown_authority_1
			}
			if = {
				limit = { has_law = crown_authority_3 }
				add_law_w_cooldown = crown_authority_2
			}
			if = {
				limit = { has_law = crown_authority_4 }
				add_law_w_cooldown = crown_authority_3
			}
		}
		#republican faction is pleased
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.111 }
			}
		}
	}
}

# Republican faction - grant liege extra city taxes for 5 years
letter_event = {
	id = PlusFaction.381 #formerly 1000182957
	desc = "EVTDESC_PlusFaction_381"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		if = {
			limit = {
				FROM = {
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 0.5
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_republican_bonus_1
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_republican_emperor
							faction_power =
							{
								faction = faction_republican_emperor
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_republican_king
							faction_power =
							{
								faction = faction_republican_king
								power = 0.5
							}
						}
						AND = {
							leads_faction = faction_republican_duke
							faction_power =
							{
								faction = faction_republican_duke
								power = 0.5
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_republican_bonus_2
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_republican_emperor
							faction_power =
							{
								faction = faction_republican_emperor
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_republican_king
							faction_power =
							{
								faction = faction_republican_king
								power = 1.0
							}
						}
						AND = {
							leads_faction = faction_republican_duke
							faction_power =
							{
								faction = faction_republican_duke
								power = 1.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 2.0
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_republican_bonus_3
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_republican_emperor
							faction_power =
							{
								faction = faction_republican_emperor
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_republican_king
							faction_power =
							{
								faction = faction_republican_king
								power = 2.0
							}
						}
						AND = {
							leads_faction = faction_republican_duke
							faction_power =
							{
								faction = faction_republican_duke
								power = 2.0
							}
						}
					}
					NOT = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 3.0
								}
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_republican_bonus_4
				duration = 1825
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							leads_faction = faction_republican_emperor
							faction_power =
							{
								faction = faction_republican_emperor
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_republican_king
							faction_power =
							{
								faction = faction_republican_king
								power = 3.0
							}
						}
						AND = {
							leads_faction = faction_republican_duke
							faction_power =
							{
								faction = faction_republican_duke
								power = 3.0
							}
						}
					}
				}
			}
			add_character_modifier = {
				name = faction_republican_bonus_5
				duration = 1825
			}
		}
	}
}

# Republican faction - financial contribution to liege
letter_event = {
	id = PlusFaction.382 #formerly 1000182958
	desc = "EVTDESC_PlusFaction_382"
	
	is_triggered_only = yes

	option = {
		name = "EXCELLENT"
		any_vassal = {
			limit = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke
					in_faction = faction_republican_emperor
					in_faction = faction_republican_king
					in_faction = faction_republican_duke
				}
			}
			if = { limit = { tier = king } ROOT = { wealth = 30 } }
			if = { limit = { tier = duke } ROOT = { wealth = 20 } }
			if = { limit = { tier = count } ROOT = { wealth = 10 } }
		}
	}
}

# Republican faction - demand reduction in city taxes
letter_event = {
	id = PlusFaction.383 #formerly 1000182959
	desc = "EVTDESC_PlusFaction_383"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demand
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = city_tax_1 }
				add_law_w_cooldown = city_tax_0
			}
			if = {
				limit = { has_law = city_tax_2 }
				add_law_w_cooldown = city_tax_1
			}
		}
		#republican faction is pleased
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.113 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#republican faction is unhappy
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.112 }
			}
		}
	}
}

# Republican faction - demand reduction in republican levies
letter_event = {
	id = PlusFaction.384 #formerly 1000182960
	desc = "EVTDESC_PlusFaction_384"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demand
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			add_law_w_cooldown = levy_privileges_1
		}
		#republican faction is pleased
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.117 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#republican faction is unhappy
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.116 }
			}
		}
	}
}

# Republican faction - demand change in tax privileges
letter_event = {
	id = PlusFaction.385 #formerly 1000182961
	desc = "EVTDESC_PlusFaction_385"
	
	is_triggered_only = yes

	option = {
		name = "EVTDEMANDYES" #agree to the demand
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = weak
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		primary_title = {
			if = {
				limit = { has_law = tax_privileges_1 }
				add_law_w_cooldown = tax_privileges_2
			}
			if = {
				limit = { has_law = tax_privileges_0 }
				add_law_w_cooldown = tax_privileges_1
			}
		}
		#republican faction is pleased
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = 6 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction members
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.115 }
			}
		}
	}
	option = {
		name = "EVTDEMANDNO" #refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				trait = strong
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 5.0
				NOT = { check_variable = { which = "rebel_power" value = 0.99 } }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 0.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 1.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 2.99 }
			}
			modifier = {
				factor = 0.75
				check_variable = { which = "rebel_power" value = 3.99 }
			}
			modifier = {
				factor = 1.5
				NOT = {
					FROM = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.0
								}
							}
						}
					}
				}
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = ultimatum_refused
				years = 5
			}
		}
		#republican faction is unhappy
		custom_tooltip = {
			text = REPUBLICANFACTIONMOODMINUS
			hidden_tooltip = { change_variable = { which = "faction_mood_republican" value = -3 } }
			hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		}
		#inform the faction of the refusal
		hidden_tooltip = {
			any_vassal = {
				limit = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke
					}
				}
				character_event = { id = PlusFaction.114 }
			}
		}
	}
}

### SEPARATIST FACTION

# Separatist faction goes to war
character_event = {
	id = PlusFaction.386
	picture = "GFX_evt_battle"
	desc = "EVTDESC_PlusFaction_386"
	border = GFX_event_normal_frame_war
	
	ai = yes
	only_rulers = yes
	capable_only = yes
	prisoner = no

	trigger = {
		ai = yes
		war = no
		has_regent = no
		leads_faction = faction_separatist
		faction_power = {
			faction = faction_separatist
			power = 0.75
		}
		NOT = { has_character_modifier = do_not_disturb }
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 10.0
			NOT = {
				faction_power = {
					faction = faction_separatist
					power = 1.25
				}
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_separatist
				power = 1.5
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_separatist
				power = 2.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_separatist
				power = 3.0
			}
		}
		modifier = {
			factor = 0.5
			faction_power = {
				faction = faction_separatist
				power = 4.0
			}
		}
	}

	option = {
		name = "EVTOPTA_PlusFaction_366" #We go to war!
		hidden_tooltip = {
			add_trait = rebel
			liege = { reverse_opinion = { who = ROOT modifier = revolting_against years = 100 } }
			any_faction_backer = {
				faction = faction_separatist
				add_trait = rebel
				liege = { reverse_opinion = { who = PREV modifier = revolting_against years = 100 } }
			}
		}
		liege = {
			set_character_flag = faction_separatist_war
			reverse_war = {
				target = ROOT
				casus_belli = cb_faction_independence
				faction = faction_separatist
			}
		}
	}
}

