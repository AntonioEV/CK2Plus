namespace = Plus

#reserved: Plus.1700 to Plus.1749

#######################################
# PROVINCE CULTURE EVENTS
#######################################

# Base event for converting culture buildings
province_event = {
	id = Plus.1700
	desc = EVTDESC_Plus_1700
	picture = GFX_evt_busy_trading_dock_republic
	
	is_triggered_only = yes
	
	option = {
		name = OK
		remove_province_modifier = recent_culture_change
		any_province_holding = {
			limit = { has_title_flag = culture_level_1 }
			clr_title_flag = culture_level_1
			if = {
				limit = {
					ROOT = {
						OR = {
							culture = english
							culture = welsh
						}
					}
				}
				add_building = ca_culture_saxon_english_1
			}
			if = {
				limit = {
					ROOT = { culture = scottish }
				}
				add_building = ca_culture_scottish_1
			}
		}
		any_province_holding = {
			limit = { has_title_flag = culture_level_2 }
			clr_title_flag = culture_level_2
			if = {
				limit = {
					ROOT = {
						OR = {
							culture = english
							culture = welsh
						}
					}
				}
				add_building = ca_culture_saxon_english_2
			}
			if = {
				limit = {
					ROOT = { culture = scottish }
				}
				add_building = ca_culture_scottish_2
			}
		}
		any_province_holding = {
			limit = { has_title_flag = culture_level_3 }
			clr_title_flag = culture_level_3
			if = {
				limit = {
					ROOT = {
						OR = {
							culture = english
							culture = welsh
						}
					}
				}
				add_building = ca_culture_saxon_english_3
			}
			if = {
				limit = {
					ROOT = { culture = scottish }
				}
				add_building = ca_culture_scottish_3
			}
		}
		any_province_holding = {
			limit = { has_title_flag = culture_level_4 }
			clr_title_flag = culture_level_4
			if = {
				limit = {
					ROOT = {
						OR = {
							culture = english
							culture = welsh
						}
					}
				}
				add_building = ca_culture_saxon_english_4
			}
			if = {
				limit = {
					ROOT = { culture = scottish }
				}
				add_building = ca_culture_scottish_4
			}
		}
	}
}

# Welsh/English
province_event = {
	id = Plus.1701
	
	hide_window = yes
	
	trigger = {
		has_province_modifier = recent_culture_change
		any_province_holding = {
			OR = {
				has_building = ca_culture_saxon_english_1
				has_building = ca_culture_saxon_english_2
				has_building = ca_culture_saxon_english_3
				has_building = ca_culture_saxon_english_4
			}
		}
		NOT = {
			culture = english
			culture = welsh
		}
		owner = { war = no }
		county = { is_occupied = no }
	}
	
	mean_time_to_happen = {
		months = 36
	}
	
	immediate = {
		any_province_holding = {
			limit = { has_building = ca_culture_saxon_english_1 }
			set_title_flag = culture_level_1
			remove_building = ca_culture_saxon_english_1
		}
		any_province_holding = {
			limit = { has_building = ca_culture_saxon_english_2 }
			set_title_flag = culture_level_2
			remove_building = ca_culture_saxon_english_2
		}
		any_province_holding = {
			limit = { has_building = ca_culture_saxon_english_3 }
			set_title_flag = culture_level_3
			remove_building = ca_culture_saxon_english_3
		}
		any_province_holding = {
			limit = { has_building = ca_culture_saxon_english_4 }
			set_title_flag = culture_level_4
			remove_building = ca_culture_saxon_english_4
		}
		province_event = { id = Plus.1700 }
	}
}

# Scottish
province_event = {
	id = Plus.1702
	
	hide_window = yes
	
	trigger = {
		has_province_modifier = recent_culture_change
		any_province_holding = {
			OR = {
				has_building = ca_culture_scottish_1
				has_building = ca_culture_scottish_2
				has_building = ca_culture_scottish_3
				has_building = ca_culture_scottish_4
			}
		}
		NOT = { culture = scottish }
		owner = { war = no }
		county = { is_occupied = no }
	}
	
	mean_time_to_happen = {
		months = 36
	}
	
	immediate = {
		any_province_holding = {
			limit = { has_building = ca_culture_scottish_1 }
			set_title_flag = culture_level_1
			remove_building = ca_culture_scottish_1
		}
		any_province_holding = {
			limit = { has_building = ca_culture_scottish_2 }
			set_title_flag = culture_level_2
			remove_building = ca_culture_scottish_2
		}
		any_province_holding = {
			limit = { has_building = ca_culture_scottish_3 }
			set_title_flag = culture_level_3
			remove_building = ca_culture_scottish_3
		}
		any_province_holding = {
			limit = { has_building = ca_culture_scottish_4 }
			set_title_flag = culture_level_4
			remove_building = ca_culture_scottish_4
		}
		province_event = { id = Plus.1700 }
	}
}

