namespace = Plus

#reserved: Plus.500 to Plus.599

#######################################
# CK2Plus Specific Realm Events
#######################################

### ENGLAND

# If William the Conqueror wins, change k_england to k_englandnorman
character_event = {
	id = Plus.500
	desc = "EVTDESC_Plus_500"
	picture = GFX_evt_throne_room

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_500"
		k_england = {
			any_direct_de_jure_vassal_title = {
				de_jure_liege = k_englandnorman
			}
		}     
        hidden_tooltip = {
			k_englandnorman = {
				grant_title = PREV
				copy_title_laws = k_england
				copy_title_history = k_england
			}		  
			any_realm_character = {
				limit = {
					has_claim = k_england
				}
				k_englandnorman = { add_pressed_claim = PREV }
				remove_claim = k_england
			}		
			any_playable_ruler = {
			  any_realm_character = {
					limit = {
						has_claim = k_england
					}
					k_englandnorman = { add_pressed_claim = PREV }
					remove_claim = k_england
				}
			}
			k_england = {
				destroy_landed_title = yes
			}
		}
	}
}

# If Harald Hardrada wins, change k_england to k_englandnorwegian
character_event = {
	id = Plus.501
	desc = "EVTDESC_Plus_501"
	picture = GFX_evt_throne_room

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_500"
		k_england = {
			any_direct_de_jure_vassal_title = {
				de_jure_liege = k_englandnorwegian
			}
		} 
        hidden_tooltip = {
			k_englandnorwegian = {
				grant_title = PREV
				copy_title_laws = k_england
				copy_title_history = k_england
			}		  
			any_realm_character = {
				limit = {
					has_claim = k_england
				}
				k_englandnorwegian = { add_pressed_claim = PREV }
				remove_claim = k_england
			}			
			any_playable_ruler = {
			  any_realm_character = {
					limit = {
						has_claim = k_england
					}
					k_englandnorwegian = { add_pressed_claim = PREV }
					remove_claim = k_england
				}
			}
			k_england = {
				destroy_landed_title = yes
			}
		}
	}
}

### CAROLINGIAN EMPIRE

# Special event for Carolingian Empire to be renamed to HRE
character_event = {
	id = Plus.502
	title = EVTNAME_Plus_502
	desc = EVTDESC_Plus_502

	picture = GFX_evt_council
	border = GFX_event_normal_frame_diplomacy

	only_playable = yes

	trigger = {
		has_landed_title = e_hre
		NOT = { dynasty = 25061 } # Karling dynasty
		NOT = { has_global_flag = hre_renamed }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = EVTOPTA_Plus_502
		set_global_flag = hre_renamed
		e_hre = {
			set_name=""
			adjective=""
		}
	}
}

### NORMANDY

# Special event for Neustria to be renamed to Normandy
character_event = {
	id = Plus.503
	title = EVTNAME_Plus_503
	desc = EVTDESC_Plus_503

	picture = GFX_evt_council
	border = GFX_event_normal_frame_diplomacy

	only_playable = yes

	trigger = {
		has_landed_title = d_normandy
		OR = {
			culture = norse
			culture = norman
		}
		NOT = { has_global_flag = neustria_renamed }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = EVTOPTA_Plus_502
		set_global_flag = neustria_renamed
		d_normandy = {
			set_name=""
			adjective=""
		}
	}
}

### ITALY / SICILY

# Christians lament the fall of Sicily and pleads for assistance in the peninsula
narrative_event = {
	id = Plus.504 #formerly 1000182648
	title = EVTNAME_Plus_504
	desc = EVTDESC_Plus_504
	picture = GFX_evt_heretic
	border = GFX_event_narrative_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			religion_group = christian
		}
		name = EVTOPTA_Plus_504
	}
	option = {
		trigger = {
			NOT = { religion_group = christian }
		}
		name = EVTOPTA_Plus_504
	}	
}

# The pope has found his champions
character_event = {
	id = Plus.505 #formerly 1000182649
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = neustria_renamed }
			}
			random_list = {
				50 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = italian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				40 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = norse
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				3 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = croatian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				2 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = serbian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				5 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = greek
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
			}
		}
		if = {
			limit = {
				has_global_flag = neustria_renamed
			}
			random_list = {
				50 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = italian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				40 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = norman
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				3 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = croatian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				2 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = serbian
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
				5 = {
					create_character = {	
						random_traits = no
						religion = ROOT
						culture = greek
						dynasty = culture
						female = no
						age = 24
						trait = brilliant_strategist
						trait = holy_warrior
						trait = strong
						trait = zealous
						trait = gregarious
						attributes = {
							martial = 8
							diplomacy = 5
							stewardship = 5
							learning = 5
							intrigue = 5
						}
					}
				}
			}			
		}
		new_character = {
			opinion = {
				who = FROM
				modifier = papal_champion
				months = 360
			}
			religion_head = {
				opinion = {
					who = PREV
					modifier = my_champion
					months = 360
				}			
			}
			if = {
				limit = {
					d_benevento = {
						OR = {
							owner = {
								NOT = { religion_group = christian }
							}
							has_holder = no
						}
					}
				}
				add_pressed_claim = "d_benevento"				
			}
			if = {
				limit = {
					d_apulia = {
						OR = {
							owner = {
								NOT = { religion_group = christian }
							}
							has_holder = no
						}
					}
				}
				add_pressed_claim = "d_apulia"				
			}
			if = {
				limit = {
					d_capua = {
						OR = {
							owner = {
								NOT = { religion_group = christian }
							}
							has_holder = no
						}
					}
				}
				add_pressed_claim = "d_capua"				
			}
			b_tivoli = {
				gain_title = PREV # Temporarily give them a castle so they won't go republic or theocracy if they win against one of those
			}
			set_character_flag = duchy_adventurer
			add_character_modifier = {
				name = italian_reconquest
				hidden = yes
				duration = -1
				inherit = yes
			}
			set_defacto_liege = THIS
			create_title = {
				tier = DUKE
				landless = yes
				temporary = yes
				culture = THIS
				name = "CLAIMANT_ADVENTURE"
				holder = THIS
			}
			spawn_unit = {
				province = 333
				home = 333
				owner = THIS
				leader = THIS
				match_character = ROOT
				match_mult = 0.2
				match_min = 4000
				match_max = 5000
				attrition = 0.25
				earmark = claimant_adventure
			}
			character_event = { id = Plus.506 } 
		}
	}
}

# The champions head out
character_event = {
	id = Plus.506 #formerly 1000182650
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		ROOT = {
			# Create some decent commander characters
			create_random_soldier = {
				random_traits = yes
				dynasty = culture
				religion = ROOT
				culture = THIS
				female = no
				age = 30
			}
			create_random_soldier = {
				random_traits = yes
				dynasty = culture
				religion = ROOT
				culture = THIS
				female = no
				age = 25
			}
			create_random_soldier = {
				random_traits = yes
				dynasty = culture	
				religion = ROOT
				culture = THIS
				female = no
				age = 33
			}
			create_random_soldier = {
				random_traits = yes
				dynasty = culture
				religion = ROOT
				culture = THIS
				female = no
				age = 29
			}			
			random_claim = {
				holder_scope = {
					reverse_war = {
						target = ROOT
						casus_belli = italian_reconquest
						thirdparty_title = PREV
					}
					if = {
						limit = {
							ai = no # Give the Invaders a boost if targetting players, as players are better at handling the invasion
						}
						ROOT = {
							spawn_unit = {
								province = 333
								home = 333
								owner = THIS
								leader = THIS
								match_character = ROOT
								match_mult = 0.2
								match_min = 2000
								match_max = 3000
								attrition = 0.25
								earmark = claimant_adventure
							}						
						}
					}
				}
			}
		}
		any_playable_ruler = {
			if = {
				limit = { religion_group = christian }
				if = {
					limit = { ROOT = { culture = italian } }
					narrative_event = { id = Plus.509 } 
				}
				if = {
					limit = { ROOT = { culture = norse } }
					narrative_event = { id = Plus.511 } 
				}	
				if = {
					limit = { ROOT = { culture = norman } }
					narrative_event = { id = Plus.512 } 
				}
				if = {
					limit = { ROOT = { culture = croatian } }
					narrative_event = { id = Plus.513 } 
				}
				if = {
					limit = { ROOT = { culture = serbian } }
					narrative_event = { id = Plus.514 } 
				}	
				if = {
					limit = { ROOT = { culture = greek } }
					narrative_event = { id = Plus.515 } 
				}
			}
		}
	}
}

# The pope helps on the offensive!
character_event = { 
	id = Plus.507 #formerly 1000182687
	
	is_triggered_only = yes
	hide_window = yes
 
	immediate = {
		religion_head = {
			join_attacker_wars = FROM
		}
	}
}

# The pope helps on the defensive!
character_event = { 
	id = Plus.508 #formerly 1000182688
	
	hide_window = yes
	
	only_rulers = yes
	min_age = 16
	only_men = yes
	
	trigger = {
		has_global_flag = italian_reconquest_started
		NOT = { 
			has_global_flag = italian_rec_success
			has_global_flag = italian_rec_failure
		}
		war = yes
		is_playable = yes		
		is_feudal = yes	
		has_character_modifier = italian_reconquest

	}
	
	mean_time_to_happen = {
		days = 1
	}
 
	immediate = {
		religion_head = {
			join_defender_wars = ROOT
		}
	}
}

# The Champions head out, Italian (Narrative event)
narrative_event = { 
	id = Plus.509 #formerly 1000182689
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_509
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The King of Sicily is Crowned
narrative_event = { 
	id = Plus.510 #formerly 1000182690
	title = EVTNAME_Plus_510
	desc = EVTDESC_Plus_510
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Norse (Narrative event)
narrative_event = { 
	id = Plus.511 #formerly 1000182691
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_511
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Norman (Narrative event)
narrative_event = { 
	id = Plus.512 #formerly 1000182692
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_512
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Croatian (Narrative event)
narrative_event = { 
	id = Plus.513 #formerly 1000182693
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_513
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Serbian (Narrative event)
narrative_event = { 
	id = Plus.514 #formerly 1000182694
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_514
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The Champions head out, Greek (Narrative event)
narrative_event = { 
	id = Plus.515 #formerly 1000182695
	title = EVTNAME_Plus_509
	desc = EVTDESC_Plus_515
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_509
	}
}

# The King of Sicily is Crowned (Recipient)
narrative_event = { 
	id = Plus.516 #formerly 1000182696
	title = EVTNAME_Plus_516
	desc = EVTDESC_Plus_516
	picture = GFX_evt_pope
	border = GFX_event_narrative_frame_diplomacy
	sound = church_bells	
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_Plus_516
		hidden_tooltip = {
			disband_event_forces = yes
		}
	}
}

# The Invasion Fails
narrative_event = { 
	id = Plus.517 #formerly 1000182697
	title = EVTNAME_Plus_517
	desc = EVTDESC_Plus_517
	picture = GFX_evt_rome_falls
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	hide_from = yes
	
	option = {
		trigger = {
			religion_group = christian
		}
		name = EVTOPTA_Plus_517
	}
	option = {
		trigger = {
			NOT = { religion_group = christian }
		}
		name = EVTOPTB_Plus_517
	}
}

# Maintenance Check for Failed Invasion (landless or vassal invaders)
character_event = { 
	id = Plus.518 #formerly 1000182698
	
	hide_window = yes
	
	min_age = 16
	only_men = yes
	
	trigger = {
		has_global_flag = italian_reconquest_started
		has_global_flag = first_war_success
		NOT = { 
			has_global_flag = italian_rec_success
			has_global_flag = italian_rec_failure
		}
		war = no	
		OR = {
			independent = no
			is_ruler = no
		}		
		has_character_modifier = italian_reconquest
	}
	
	mean_time_to_happen = {
		days = 1	
	}
	
	immediate = {
		remove_character_modifier = italian_reconquest
		religion_head = {
			remove_opinion = {
				who = ROOT
				modifier = my_champion
			}
		}
		set_global_flag = italian_rec_failure
		any_playable_ruler = { narrative_event = { id = Plus.517 } }
	}
}

# Maintenance Check, Start the invasion
character_event = { 
	id = Plus.519 #formerly 1000182699
	
	hide_window = yes
	
	min_age = 16
	only_rulers = yes
	only_men = yes
	
	trigger = {
		has_global_flag = italian_reconquest_planning
		NOT = { has_global_flag = italian_reconquest_started }
		has_landed_title = k_papal_state
		has_character_modifier = italian_reconquest_pope
		NOT = {
			c_benevento = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_foggia = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_capua = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_napoli = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_apulia = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_bari = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_lecce = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_salerno = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_taranto = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_amalfi = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_consenza = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_reggio = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_palermo = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_messina = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_siracusa = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_agrigento = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_trapani = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}
			c_malta = {
				holder_scope = {
					top_liege = {
						has_character_modifier = holy_truce_timer
					}
				}
			}			
		}
	}
	
	mean_time_to_happen = {
		months = 24
	}
	
	immediate = {
		remove_character_modifier = italian_reconquest_pope
		set_global_flag = italian_reconquest_started
		character_event = { id = Plus.505 }
	}
}

### ALBANIA

# Albanian culture arises
province_event = {
	id = Plus.520 #formerly 1000183181
	title = "EVTNAME_Plus_520"
	desc = "EVTDESC_Plus_520"
	picture = GFX_evt_council
	
	hide_window = yes
	
	trigger = {
		470 = {
			NOT = { culture = arberian }
		}
		province_id = 470
		year = 1000
	}
	
	mean_time_to_happen = {
		months = 550
	}
	
	immediate = {
		culture = arberian
		c_dyrrachion = {
			holder_scope = { character_event = { id = Plus.521 } }
		}
	}
	
	option = {
		name = "EVTOPTA55000"
	}
}

# Owner informed of Albanian culture
character_event = {
	id = Plus.521 #formerly 1000183182
	title = EVTNAME_Plus_521
	desc = EVTDESC_Plus_521
	picture = GFX_evt_stone_church
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_521"
		prestige = 50
	}
	
	option = {
		name = "EVTOPTB_Plus_521"
		culture = arberian
		prestige = -200
	}
}

# Special event to create Albania -- triggered by decision: create_kingdomofalbania
narrative_event = {
	id = Plus.522 #formerly 1000183183
	title = "EVTNAME_Plus_522"
	desc = "EVTDESC_Plus_522"	
	picture = GFX_evt_albania
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_522"
		k_albania = { grant_title = ROOT }
		d_albania = { de_jure_liege = k_albania }
		c_dyrrachion = { de_jure_liege = d_albania }
		d_dyrrachion = { holder_scope = { add_claim = c_dyrrachion } }
		hidden_tooltip = {
			any_playable_ruler = {
				limit = {
					NOT = { has_landed_title = k_albania }
					ai = no
				}
				narrative_event = { id = Plus.523 }
			}
		}
	}
}

# Informed about the Creation of Albania
narrative_event = {
	id = Plus.523
	title = "EVTNAME_Plus_523"
	desc = "EVTDESC_Plus_523"	
	picture = GFX_evt_albania
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA_Plus_523"
	}
}

### BOHEMIA

# Duke of Bohemia responds to Boleslaw conquering Moravia
character_event = {
	id = Plus.524 #formerly 90009009
	desc = "EVTDESC_Plus_524"
	picture = GFX_evt_throne_room

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_524"
		set_defacto_liege = e_hre
		prestige = -100
		k_bohemia = {
			de_jure_liege = e_hre
		}
		ai_chance = {
			factor = 70
		}
	}

	option = {
		name = "EVTOPTB_Plus_524"
		prestige = 10
		ai_chance = {
			factor = 30
		}
	}
}

### HRE -- Coronation events witten by Van Diemen

# Coronation inform Emperor -- triggered by decision: coronation
character_event = {
	id = Plus.525 #formerly 1000182427
	desc = "EVTDESC_Plus_525"
	picture = "GFX_evt_pope"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_525" # I will ask the pope
		hidden_tooltip = {
			rightful_religious_head_scope = {
				letter_event = { id = Plus.526 }
			}
		}
	}
}

# Asking the pope for coronation
letter_event = {
	id = Plus.526 #formerly 1000182428
	desc = "EVTDESC_Plus_526"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_526"	# Accept
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 40
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 60
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 80
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 100
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = zealous }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = crusader }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 400 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 600 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 800 }
			}
			modifier = {
				factor = 1.2
				FROM = { piety = 1000 }
			}
		}
		wealth = 100
		FROM = {
			letter_event = { id = Plus.527 }
		}
	}
	option = {
		name = "EVTOPTB_Plus_526"	# Reject
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -100
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -80
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -60
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -40
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -20
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = 0
						}
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = { trait = lunatic }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = kinslayer }
			}
			modifier = {
				factor = 2.0
				FROM = { trait = cynical }
			}
		}
		FROM = {
			letter_event = { id = Plus.528 }
		}
		ROOT = {
			opinion = {
				modifier = coronation_rejected
				who = FROM
				years = 10
			}
		}
	}
}
 
# Inform emperor that the pope agrees to the coronation & send out the invites to realm lords
letter_event = {
	id = Plus.527 #formerly 1000182429
	desc = "EVTDESC_Plus_527"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_527"	# Excellent, now invite all the lords
		hidden_tooltip = {
			any_vassal = {
				limit = {
					is_adult = yes
					OR = {
						tier = COUNT
						tier = DUKE
						tier = KING
					}
					NOT = {
						trait = excommunicated
						trait = incapable
						is_heretic = yes
					}
					religion_group = christian
					prisoner = no
				}
				letter_event = { id = Plus.529 } # Invitation to coronation
			}
			character_event = { id = Plus.531 days = 60 } # Coronation begins
		}
	}
}

# Inform emperor that the pope rejects coronation
letter_event = {
	id = Plus.528 #formerly 1000182430
	desc = "EVTDESC_Plus_528"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_528"	# Maybe we should try again later
		clr_character_flag = wants_coronation
		prestige = -50
		ROOT = {
			opinion = {
				modifier = coronation_rejected 
				who = FROM
				years = 2
			}
		}
	}
}

# Coronation invites to realm lords
letter_event = {
	id = Plus.529 #formerly 1000182431
	desc = "EVTDESC_Plus_529"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_529"	# I will attend the ceremony
		ai_chance = {
			factor = 80
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					opinion = {
						who = FROM
						value = 40
					}
				}
			}
			modifier = {
				factor = 1.6
				ROOT = {
					opinion = {
						who = FROM
						value = 60
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					opinion = {
						who = FROM
						value = 80
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					opinion = {
						who = FROM
						value = 100
					}
				}
			}
		}
		set_character_flag = attend_coronation
	}
	option = {
		name = "EVTOPTB_Plus_529"	# I have more important things to do
		ai_chance = {
			factor = 20
			modifier = {
				factor = 4.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder
					}
				}
			}
			modifier = {
				factor = 2.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_spouse
					}
				}
			}
			modifier = {
				factor = 4.0
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_child
					}
				}
			}
			modifier = {
				factor = 1.5
				ROOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = attempted_murder_of_vassal
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -20
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -40
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -60
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -80
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				ROOT = {
					NOT = {
						opinion = {
							who = FROM
							value = -99
						}
					}
				}
			}
		}
		FROM = {
			letter_event = { id = Plus.530 }
		}
	}
}

# Inform Emperor of NOT attending ceremony
letter_event = {
	id = Plus.530 #formerly 1000182432
	desc = "EVTDESC_Plus_530"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_530"	# I have no words for such dishonour
		ROOT = {
			opinion = {
				modifier = insulted
				who = FROM
				months = 60
			}
		}
	}
}

# Emperor crowned by pope
character_event = {
	id = Plus.531 #formerly 1000182433
	title = "EVTNAME_Plus_531"
	desc = "EVTDESC_Plus_531"
	picture = "GFX_evt_holy_emperor"
	sound = church_bells

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_531"	# This is the happiest day of my life
		add_trait = crowned_by_pope
		prestige = 500
		custom_tooltip = {
			text = COURTFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_court" value = 4 } }
		}
		custom_tooltip = {
			text = RELIGIOUSFACTIONMOODPLUS
			hidden_tooltip = { change_variable = { which = "faction_mood_religious" value = 2 } }
		}
		hidden_tooltip = { random_courtier = { limit = { ai = yes } character_event = { id = PlusFaction.306 days = 1 } } }
		hidden_tooltip = {
			rightful_religious_head_scope = {
				reverse_opinion = {
					modifier = opinion_grateful
					who = ROOT
					months = 60
				}
			}
			any_vassal = {
				limit = {
					has_character_flag = attend_coronation
				}
				character_event = { id = Plus.532 }
				opinion = {
					modifier = opinion_attended_ceremony
					who = ROOT
					years = 5
				}
			}
			any_vassal = {
				limit = {
					NOT = { has_character_flag = attend_coronation }
				}
				letter_event = { id = Plus.533 }
			}
			clr_character_flag = wants_coronation
			narrative_event = { id = Plus.534 }
		}
	}
}

# Emperor crowned by pope - attended realm lords informed of ceremony
character_event = {
	id = Plus.532 #formerly 1000182434
	desc = "EVTDESC_Plus_532"
	picture = "GFX_evt_holy_emperor"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_532"	# The coronation was beautiful
		prestige = 20
		clr_character_flag = attend_coronation
	}
}

# Emperor crowned by pope - non-attending realm lords informed of ceremony
letter_event = {
	id = Plus.533 #formerly 1000182435
	desc = "EVTDESC_Plus_533"

	is_triggered_only = yes

	option = {
		name = "OK"	# Ok
	}
}

# HRE Coronation narrative event
narrative_event = {
	id = Plus.534 #formerly 1000182436
	title = "EVTNAME_Plus_534"
	desc = "EVTDESC_Plus_534"
	picture = "GFX_evt_holy_emperor"
	border = "GFX_event_narrative_frame_religion"

	major = yes

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_533"	# This is the happiest day of my life
	}
}

