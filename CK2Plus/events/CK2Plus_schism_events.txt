namespace = Plus

#reserved: Plus.2200 to Plus.2299

################################################
# SCHISM EVENTS
# Originally written by Hansol "LumberKing" Lee
# Adapted/Revised by Rylock
################################################

### Papacy of Rome

# Rome Re-Established
character_event = { 
	id = Plus.2200

	hide_window = yes
	religion_group = christian
	only_rulers = yes

	trigger = {
		has_landed_title = b_roma
		is_theocracy = yes
		NOT = { has_landed_title = d_pentarch_rome }
		OR = {
			religion = orthodox
			religion = monothelite
			religion = iconoclast
			religion = miaphysite
			religion = monophysite
			religion = nestorian
			religion = messalian
			religion = apostolic
			religion = paulician
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_rome = { grant_title = ROOT }
		character_event = { id = Plus.2213 }
	}

	option = {
		name = OK
	}
}

# Rome De-Established
character_event = {
	id = Plus.2201

	hide_window = yes
	only_playable = yes

	trigger = {
		has_landed_title = d_pentarch_rome
		OR = {
			NOT = { has_landed_title = b_roma }
			is_theocracy = no
			NOR = {
				religion = orthodox
				religion = monothelite
				religion = iconoclast
				religion = miaphysite
				religion = monophysite
				religion = nestorian
				religion = messalian
				religion = apostolic
				religion = paulician
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_rome = { unsafe_destroy_landed_title = THIS }
	}

	option = {
		name = OK
	}
}

### Patriarchate of Constantinople

# Constantinople Re-Established
character_event = { 
	id = Plus.2202

	hide_window = yes
	religion_group = christian
	only_rulers = yes

	trigger = {
		has_landed_title = b_hagiasophia
		is_theocracy = yes
		NOT = { has_landed_title = d_pentarch_constantinople }
		OR = {
			religion = orthodox
			religion = monothelite
			religion = iconoclast
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_constantinople = { grant_title = ROOT }
		character_event = { id = Plus.2213 }
	}

	option = {
		name = OK
	}
}

# Constantinople De-Established
character_event = {
	id = Plus.2203

	hide_window = yes
	only_playable = yes

	trigger = {
		has_landed_title = d_pentarch_constantinople
		OR = {
			NOT = { has_landed_title = b_hagiasophia }
			is_theocracy = no
			NOR = {
				religion = orthodox
				religion = monothelite
				religion = iconoclast
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_constantinople = { unsafe_destroy_landed_title = THIS }
	}

	option = {
		name = OK
	}
}

# Constantinople Reformed
character_event = {
	id = Plus.2204

	hide_window = yes
	religion_group = christian
	only_playable = yes

	trigger = {
		OR = {
			has_landed_title = k_orthodox
			has_landed_title = d_iconoclast
		}
		NOT = { has_landed_title = b_hagiasophia }
		b_hagiasophia = {
			has_holder = yes
			holder_scope = {
				religion = ROOT
				ai = yes
				NOT = { character = ROOT }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		b_hagiasophia = { grant_title = ROOT }
	}

	option = {
		name = OK
	}
}

### Papacy of Alexandria

# Alexandria Re-Established
character_event = { 
	id = Plus.2205

	hide_window = yes
	religion_group = christian
	only_rulers = yes

	trigger = {
		has_landed_title = b_alexandria
		is_theocracy = yes
		NOT = { has_landed_title = d_pentarch_alexandria }
		OR = {
			religion = orthodox
			religion = monothelite
			religion = iconoclast
			religion = miaphysite
			religion = monophysite
			religion = nestorian
			religion = messalian
			religion = apostolic
			religion = paulician
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_alexandria = { grant_title = ROOT }
		character_event = { id = Plus.2213 }
	}

	option = {
		name = OK
	}
}

# Alexandria De-Established
character_event = {
	id = Plus.2206

	hide_window = yes
	only_playable = yes

	trigger = {
		has_landed_title = d_pentarch_alexandria
		OR = {
			NOT = { has_landed_title = b_alexandria }
			is_theocracy = no
			NOR = {
				religion = orthodox
				religion = monothelite
				religion = iconoclast
				religion = miaphysite
				religion = monophysite
				religion = nestorian
				religion = messalian
				religion = apostolic
				religion = paulician
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_alexandria = { unsafe_destroy_landed_title = THIS }
	}

	option = {
		name = OK
	}
}

# Alexandria Reformed
character_event = {
	id = Plus.2207

	hide_window = yes
	religion_group = christian
	only_playable = yes

	trigger = {
		OR = {
			has_landed_title = d_miaphysite
			has_landed_title = d_monophysite
		}
		NOT = { has_landed_title = b_alexandria }
		b_alexandria = {
			has_holder = yes
			holder_scope = {
				religion = ROOT
				ai = yes
				NOT = { character = ROOT }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		b_alexandria = { grant_title = ROOT }
	}

	option = {
		name = OK
	}
}

### Patriarchate of Antioch

# Antioch Re-Established
character_event = { 
	id = Plus.2208

	hide_window = yes
	religion_group = christian
	only_rulers = yes

	trigger = {
		has_landed_title = b_antiocheia
		is_theocracy = yes
		NOT = { has_landed_title = d_pentarch_antioch }
		OR = {
			religion = orthodox
			religion = monothelite
			religion = iconoclast
			religion = miaphysite
			religion = monophysite
			religion = nestorian
			religion = messalian
			religion = apostolic
			religion = paulician
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_antioch = { grant_title = ROOT }
		character_event = { id = Plus.2213 }
	}

	option = {
		name = OK
	}
}

# Antioch De-Established
character_event = {
	id = Plus.2209

	hide_window = yes
	only_playable = yes

	trigger = {
		has_landed_title = d_pentarch_antioch
		OR = {
			NOT = { has_landed_title = b_antiocheia }
			is_theocracy = no
			NOR = {
				religion = orthodox
				religion = monothelite
				religion = iconoclast
				religion = miaphysite
				religion = monophysite
				religion = nestorian
				religion = messalian
				religion = apostolic
				religion = paulician
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_antioch = { unsafe_destroy_landed_title = THIS }
	}

	option = {
		name = OK
	}
}

# Antioch Reformed
character_event = {
	id = Plus.2210

	hide_window = yes
	religion_group = christian
	only_playable = yes

	trigger = {
		OR = {
			has_landed_title = d_monothelite
			has_landed_title = d_apostolic
			has_landed_title = d_paulician
			has_landed_title = d_nestorian
		}
		NOT = { has_landed_title = b_antiocheia }
		b_antiocheia = {
			has_holder = yes
			holder_scope = {
				religion = ROOT
				ai = yes
				NOT = { character = ROOT }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		b_antiocheia = { grant_title = ROOT }
	}

	option = {
		name = OK
	}
}

### Patriarchate of Jerusalem

# Jeusalem Re-Established
character_event = { 
	id = Plus.2211

	hide_window = yes
	religion_group = christian
	only_rulers = yes

	trigger = {
		has_landed_title = b_jerusalem
		is_theocracy = yes
		NOT = { has_landed_title = d_pentarch_jerusalem }
		OR = {
			religion = orthodox
			religion = monothelite
			religion = iconoclast
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_jerusalem = { grant_title = ROOT }
		character_event = { id = Plus.2213 }
	}

	option = {
		name = OK
	}
}

# Jerusalem De-Established
character_event = {
	id = Plus.2212

	hide_window = yes
	only_playable = yes

	trigger = {
		has_landed_title = d_pentarch_jerusalem
		OR = {
			NOT = { has_landed_title = b_jerusalem }
			is_theocracy = no
			NOR = {
				religion = orthodox
				religion = monothelite
				religion = iconoclast
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		d_pentarch_jerusalem = { unsafe_destroy_landed_title = THIS }
	}

	option = {
		name = OK
	}
}

# Establishing Liege for the Pentarchs

character_event = {
	id = Plus.2213

	hide_window = yes
	only_independent = yes
	only_playable = yes
	religion_group = christian

	trigger = {
		lower_tier_than = KING
		OR = {
			has_landed_title = d_pentarch_rome
			has_landed_title = d_pentarch_constantinople
			has_landed_title = d_pentarch_alexandria
			has_landed_title = d_pentarch_antioch
			has_landed_title = d_pentarch_jerusalem	
		}
		NOT = { trait = rebel }
		capital_holding = {
			dejure_liege_title = {
				holder_scope = {
					top_liege = {
						religion = ROOT
						higher_tier_than = ROOT
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		capital_holding = {
			dejure_liege_title = {
				holder_scope = {
					top_liege = {
						set_defacto_vassal = ROOT
					}
				}
			}
		}
	}
}

