namespace = Plus

#reserved: Plus.3651 to Plus.3750

#######################################
# IMPERIAL GERMAN EVENTS
# Written by Zeress
#######################################

character_event = { # Clarify to player what this option does exactly
	id = Plus.3651
	desc = EVTDESC_Plus_3651
	picture = GFX_evt_council
	
	is_triggered_only = yes
	hide_from = yes
	
	option = {
		name = EVTOPTA_Plus_3651 # Over time they will agree

		any_ruler = {
			limit = { capital_scope = { region = world_europe } }
			narrative_event = { id = Plus.3653 }
		}
	}
}

character_event = { # Attempt to convert vassals?
	id = Plus.3652
	desc = EVTDESC_Plus_3652
	picture = GFX_evt_council

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_Plus_3652 # My will be so

		hidden_tooltip = { 
			any_vassal = {
				limit = { higher_tier_than = BARON }
				letter_event = { id = Plus.3654 }
			} 
		} # Attempt to impose Edict 
	}

	option = {
		name = EVTOPTB_Plus_3652 # Perhaps not yet

		clr_character_flag = attempted_imp_german_conversion
	}	
}

narrative_event = { # Imperial German has appeared
	id = Plus.3653
	title = EVTNAME_Plus_3653
	desc = {
		trigger = { is_liege_or_above = FROM }
		text = EVTDESCA_Plus_3653
	}
	desc = {
		trigger = { NOT = { is_liege_or_above = FROM } }
		text = EVTDESCB_Plus_3653
	}
	picture = GFX_evt_imperial_german_edict
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = I_SEE
	}
}

letter_event = { # Attempt to convert vassal
	id = Plus.3654
	desc = EVTDESC_Plus_3654
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_Plus_3654 # I accept

		trigger = { ai = no } # Not usable yet
	}		

	option = {
		name = EVTOPTB_Plus_3654 # I accept reluctantly

		trigger = { ai = no } # Not usable yet
	}	
	
	option = {
		name = EVTOPTC_Plus_3654 # I refuse but offer a favor

		trigger = { ai = no } # Not usable yet
		# FROM = { letter_event = { id = XXX } }
	}
	
	option = {
		name = EVTOPTD_Plus_3654 # I refuse

		opinion = { # Angered by demand
			who = FROM
			months = 160
			modifier = refused_imperial_edict_liege
		}
		reverse_opinion = { # Liege angered by refusal
			who = FROM
			months = 160
			modifier = refused_imperial_edict_vassal
		}
	}
}