
namespace = Plus

#reserved: Plus.450 to Plus.500

#######################################
# AMBITION EVENTS
#######################################

### UNCOVER PLOT

# Event to begin the obj_uncover_plot chain -- the snooper suspects something
character_event = {
	id = Plus.450
	desc = EVTDESC_Plus_450
	picture = "GFX_evt_shadowy_cabal"

	min_age = 16
	capable_only = yes
	prisoner = no

	trigger = {
		has_ambition = obj_uncover_plot
		in_command = no
		is_abroad = no
		location = {
			any_province_character = {
				NOT = { is_liege_of = ROOT }
				NOT = { character = ROOT }
				NOT = { any_backed_character = { character = ROOT } }
				OR = {
					has_plot = plot_seize_trade_post
					has_plot = plot_discredit_councillor
					has_plot = plot_embezzle_from_liege
					has_plot = plot_kidnapping
					has_plot = plot_fabricate_treason
					has_plot = plot_fabricate_treason_liege
					has_plot = plot_fabricate_heresy
					has_plot = plot_gain_liege_title
					has_plot = plot_gain_fellow_vassal_title
					has_plot = plot_weaken_fellow_vassal
					has_plot = plot_kidnap_liege
					has_plot = plot_kill_character
					has_plot = plot_take_revenge
					has_plot = plot_kill_spouse
				}
				NOT = { has_character_flag = event7040 }    # Paradox event uses this to mark a plot as already exposed
			}
		}
		NOT = { has_character_flag = uncover_plot_in_progress }
	}

	mean_time_to_happen = {
		months = 180
		modifier = {
			factor = 1.2
			trait = slothful
		}
		modifier = {
			factor = 1.2
			trait = trusting
		}
		modifier = {
			factor = 1.2
			trait = blinded
		}
		modifier = {
			factor = 0.9
			trait = diligent
		}
		modifier = {
			factor = 0.9
			trait = just
		}
		modifier = {
			factor = 0.8
			trait = quick
		}
		modifier = {
			factor = 0.8
			trait = paranoid
		}
		modifier = {
			factor = 0.6
			trait = genius
		}
		modifier = {
			factor = 1.2
			NOT = { intrigue = 8 }
		}
		modifier = {
			factor = 1.5
			NOT = { intrigue = 4 }
		}
		modifier = {
			factor = 0.8
			intrigue = 10
		}
		modifier = {
			factor = 0.8
			intrigue = 12
		}
		modifier = {
			factor = 0.8
			intrigue = 14
		}
		modifier = {
			factor = 0.8
			intrigue = 16
		}
	}

	option = {
		name = "EVTOPTA_Plus_450" # Will investigate
		set_character_flag = uncover_plot_in_progress
		location = {
			random_province_character = {
				limit = {
					NOT = { is_liege_of = ROOT }
					NOT = { character = ROOT }
					NOT = { any_backed_character = { character = ROOT } }
					OR = {
						has_plot = plot_seize_trade_post
						has_plot = plot_discredit_councillor
						has_plot = plot_embezzle_from_liege
						has_plot = plot_kidnapping
						has_plot = plot_fabricate_treason
						has_plot = plot_fabricate_treason_liege
						has_plot = plot_fabricate_heresy
						has_plot = plot_gain_liege_title
						has_plot = plot_gain_fellow_vassal_title
						has_plot = plot_weaken_fellow_vassal
						has_plot = plot_kidnap_liege
						has_plot = plot_kill_character
						has_plot = plot_take_revenge
						has_plot = plot_kill_spouse
					}
					NOT = { has_character_flag = event7040 }
				}
				hidden_tooltip = {
					character_event = { id = Plus.451 days = 7 }
				}
			}
		}
	}
}

# The plotter becomes aware that someone knows
character_event = {
	id = Plus.451
	desc = "EVTDESC_Plus_451"
	picture = "GFX_evt_spymaster"

	hide_from = yes

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_451" # I hope they keep their mouth shut
		hidden_tooltip = {
			FROM = {
				character_event = { id = Plus.452 days = 1 }
			}
		}
	}
}

# The snooper reveals the plot, or doesn't
character_event = {
	id = Plus.452
	desc = "EVTDESC_Plus_452"
	picture = "GFX_evt_recieve_letter"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_452" # Reveal the plot
		ai_chance = {
			factor = 80
			modifier = {
				factor = 1.5
				trait = just
			}
			modifier = {
				factor = 0.5
				opinion = { who = FROM value = 0 }
			}
			modifier = {
				factor = 0
				opinion = { who = FROM value = 40 }
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = revealed_plot
				months = 120
			}
			set_character_flag = event7040  # Marked a plotter as having his plot revealed
			character_event = { id = Plus.453 days = 1 tooltip = uncovered_tooltip }
			plot_target_char = {
				letter_event = { id = Plus.454 days = 1 tooltip = tipped_off_tooltip }
			}
		}
		add_trait = counterspy  # Completes ambition
	}

	option = {
		name = "EVTOPTB_Plus_452" # Destroy the evidence
		ai_chance = {
			factor = 20
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 0
				NOT = { opinion = { who = FROM value = -40 } }
			}
		}
		clr_character_flag = uncover_plot_in_progress
	}
}

# Plotter informed that plot has been revealed
character_event = {
	id = Plus.453
	desc = "EVTDESC_Plus_453"
	picture = "GFX_evt_spymaster"

	is_triggered_only = yes

	option = {
		name = "CURSES"
		if = {
			limit = {
				plot_target_char = {
					any_courtier = {
						has_job_title = job_spymaster
					}
				}
			}
			reveal_plot_w_message = yes
		}
		if = {
			limit = {
				plot_target_char = {
					NOT = {
						any_courtier = {
							has_job_title = job_spymaster
						}
					}
				}
			}
			reveal_plot = yes
		}
		plot_target_char = {
			opinion = {
				modifier = devious_plotter
				who = ROOT
				months = 120
			}
			if = {
				limit = {
					liege = { NOT = { character = ROOT } }
				}
				liege = {
					opinion = {
						who = ROOT
						modifier = devious_plotter
						months = 120
					}
				}
			}
		}
	}
}

# Victim is informed of person who exposed the plot
letter_event = {
	id = Plus.454
	desc = "EVTDESC_Plus_454"
	picture = "GFX_evt_whispers"

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_454"
		opinion = {
			who = FROM
			modifier = opinion_uncovered_plot
			months = 60
		}
	}
}

### SEE BASTARD SON LEGITIMIZED

# Bastard son informed of mother's efforts
character_event = {
	id = Plus.460
	desc = "EVTDESC_Plus_460"
	picture = GFX_evt_emissary

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_460" # I wonder what he'll say...
		father = {
			character_event = { id = Plus.461 }
		}
	}
}

# Father Decides
character_event = {
	id = Plus.461
	desc = "EVTDESC_Plus_461"
	picture = GFX_evt_emissary

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_461" # Refuse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				spouse = { character = FROMFROM }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROMFROM value = 20 }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROMFROM value = 40 }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROMFROM value = 60 }
			}
			modifier = {
				factor = 0.5
				OR = {
					any_lover = { character = FROMFROM }
					any_consort = { character = FROMFROM }
				}
			}
			modifier = {
				factor = 0.5
				OR = {
					FROM = { is_councillor = yes }
					FROMFROM = {
						is_councillor = yes
						any_liege = { character = ROOT }
					}
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					OR = {
						diplomacy = 10
						martial = 10
						stewardship = 10
						intrigue = 10
					}
				}
			}
			modifier = {
				factor = 0.6
				opinion = { who = FROM value = 20 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 0.6
				opinion = { who = FROM value = 60 }
			}
		}
		FROM = {
			hidden_tooltip = {
				character_event = { id = Plus.462 }
			}
			mother = {
				opinion = {
					modifier = opinion_refused_legit_request
					who = ROOT
					years = 10
				}
				hidden_tooltip = {
					character_event = { id = Plus.464 }
				}
			}

		}
	}
	
	option = {
		name = "EVTOPTB_Plus_461"  # Agree
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				current_heir = {
					is_female = no
					father = { character = ROOT }
					dynasty = ROOT
					NOT = { age = FROM }
				}
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = 0 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -20 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -40 } }
			}
			modifier = {
				factor = 0.6
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 0.6
				NOT = { opinion = { who = FROM value = -20 } }
			}
			modifier = {
				factor = 0.6
				NOT = { opinion = { who = FROM value = -40 } }
			}
			modifier = {
				factor = 0.5
				FROM = {
					NOT = { diplomacy = 5 }
					NOT = { martial = 5 }
					NOT = {	stewardship = 5 }
					NOT = {	intrigue = 5 }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						trait = inbred
						trait = imbecile
						trait = incapable
						trait = lunatic
						trait = possessed
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { piety = 20 }
			}
		}
		piety = -20
		FROM = {
			dynasty = ROOT
			remove_trait = bastard
			add_trait = legit_bastard
			recalc_succession = yes
			if = {
				limit = {
					prisoner = yes
					host = { character = ROOT }
				}
				imprison = no
			}
			hidden_tooltip = {
				character_event = { id = Plus.463 }
			}
		}
		any_spouse = {
			if = {
				limit = {
					NOT = {
						any_child = { character = FROM }	
					}
				}
				opinion = {
					who = FROM
					modifier = legitimized_bastard
					years = 20
				}
			}
		}
		any_child = {
			limit = {
				NOT = { character = FROM }
				dynasty = ROOT
				NOT = { trait = bastard }
			}
			opinion = {
				who = FROM
				modifier = legitimized_bastard
				months = 12
			}
		}
	}
}

# Bastard son notified of refusal
character_event = {
	id = Plus.462
	desc = "EVTDESC_Plus_462"
	picture = GFX_evt_emissary

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_462"  # There are other ways...
		opinion = {
			modifier = opinion_refused_legit_request
			who = FROM
			years = 10
		}
		if = {
			limit = { trait = content }
			remove_trait = content
		}
		random_list = {
			40 = {
				add_trait = ambitious
			}
			50 = {
				add_trait = deceitful
			}
			10 = {
				change_intrigue = 1
			}
		}
	}

	option = {
		name = "EVTOPTB_Plus_462"   # Maybe he'll change his mind if I work harder
		if = {
			limit = { trait = slothful }
			remove_trait = slothful
		}
		random_list = {
			40 = {
				add_trait = diligent
			}
			50 = {
				add_trait = brave
			}
			10 = {
				change_martial = 1
			}
		}
	}

	option = {
		name = "EVTOPTC_Plus_462"  # It's fine I don't want it anyway
		add_trait = content
		piety = 10
	}
}

# Bastard son notified of agreement
character_event = {
	id = Plus.463
	desc = "EVTDESC_Plus_463"
	picture = GFX_evt_emissary

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_463"
		opinion = {
			modifier = legitimized_child
			who = FROM
			years = 10
		}
		mother = {
			reverse_opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 10
			}
			hidden_tooltip = {
				character_event = { id = Plus.465 }
			}
		}
	}
}

# Mother learns of refusal
character_event = {
	id = Plus.464
	desc = "EVTDESC_Plus_464"
	picture = GFX_evt_emissary

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_464"
	}
}

# Mother learns of agreement
character_event = {
	id = Plus.465
	desc = "EVTDESC_Plus_465"
	picture = GFX_evt_emissary

	is_triggered_only = yes

	option = {
		name = "EVTOPTA_Plus_465"
		opinion = {
			modifier = legitimized_child
			who = FROMFROM
			years = 10
		}
	}
}

### LEAD TROOPS / LEAD TROOPS INFIDEL

# Show bravery in battle (generic)
character_event = {
	id = Plus.470
	desc = "EVTDESC_Plus_470"
	picture = "GFX_evt_battle"

	is_triggered_only = yes

	trigger = {
		has_ambition = obj_lead_troops
		is_alive = yes
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.35
			trait = zealous
		}
		modifier = {
			factor = 1.45
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = imbecile
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.55
			is_ill = yes
		}
		modifier = {
			factor = 0.85
			health_traits = 1
		}
	}

	option = {
		name = "EXCELLENT"
		add_trait = veteran
	}
}

# Show bravery against infidels (generic)
character_event = {
	id = Plus.471
	desc = "EVTDESC_Plus_471"
	picture = "GFX_evt_pale_rider"

	is_triggered_only = yes

	trigger = {
		has_ambition = obj_lead_troops_infidel
		trait = veteran
		is_alive = yes
		OR = {
			war = yes
			any_liege = { war = yes }
		}
		OR = {
			any_current_enemy = {
				NOT = { religion_group = ROOT }
			}
			any_liege = {
				any_current_enemy = {
					NOT = { religion_group = ROOT }
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.35
			trait = zealous
		}
		modifier = {
			factor = 1.45
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = imbecile
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.55
			is_ill = yes
		}
		modifier = {
			factor = 0.85
			health_traits = 1
		}
	}

	option = {
		name = "EXCELLENT"
		remove_trait = veteran
		add_trait = champion
	}
}

# Bravely kills an enemy on the field
character_event = {
	id = Plus.472
	desc = "EVTDESC_Plus_472"
	picture = "GFX_evt_bloody_man"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 3.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.7
			trait = brave
		}
		modifier = {
			factor = 1.3
			trait = zealous
		}
		modifier = {
			factor = 2.4
			trait = strong
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.7
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.15
			martial = 10
		}
		modifier = {
			factor = 1.15
			martial = 12
		}
		modifier = {
			factor = 1.15
			martial = 14
		}
		modifier = {
			factor = 1.15
			martial = 16
		}
		modifier = {
			factor = 0.45
			is_ill = yes
		}
		modifier = {
			factor = 0.75
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_472" # A fine kill, but I broke the shaft to my favorite axe!
		if = {
			limit = { has_ambition = obj_lead_troops }
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		morale = 0.05
		any_current_enemy = {
			random_realm_character = {
				limit = {
					in_command = yes
					OR = {
						is_ruler = no
						tier = baron
					}
					at_location = ROOT
					NOT = { trait = craven }
					NOT = { trait = patient }
				}
				morale = -0.05
				death = {
					death_reason = death_battle
					killer = ROOT
				}
			}
		}
	}
}

# Bravely saves a mad soldier on the field
character_event = {
	id = Plus.473
	desc = "EVTDESC_Plus_473"
	picture = "GFX_evt_melee_muslim"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 4.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.5
			trait = zealous
		}
		modifier = {
			factor = 1.4
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = patient
		}
		modifier = {
			factor = 1.5
			trait = just
		}
		modifier = {
			factor = 1.5
			trait = kind
		}
		modifier = {
			factor = 1.25
			trait = diligent
		}
		modifier = {
			factor = 1.1
			trait = gregarious
		}
		modifier = {
			factor = 0.1
			trait = wroth
		}
		modifier = {
			factor = 0.5
			trait = drunkard
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
		modifier = {
			factor = 0.25
			trait = cruel
		}
		modifier = {
			factor = 0.75
			trait = slothful
		}
		modifier = {
			factor = 0.9
			trait = shy
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = slow
				trait = imbecile
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.3
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.5
			is_ill = yes
		}
		modifier = {
			factor = 0.8
			health_traits = 1
		}
	}

	immediate = {
		if = {
			limit = {
				any_realm_character = {
					in_command = yes
					in_battle = yes
					OR = {
						is_ruler = no
						tier = baron
					}
					at_location = ROOT
					NOT = { trait = craven }
					NOT = { trait = patient }
					NOT = { trait = maimed }
					NOT = { trait = infirm }
					NOT = { character = ROOT }
				}
			}
			set_character_flag = titus_knight
		}
	}

	option = {
		name = "EVTOPTA_Plus_473" # He thanked me for helping him
		trigger = {
			has_character_flag = titus_knight
		}
 		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		# random_realm_character with the flag gets an op mod towards root
		random_realm_character = {
			limit = {
				in_command = yes
				in_battle = yes
				OR = {
					is_ruler = no
					tier = baron
				}
				at_location = ROOT
				NOT = { trait = craven }
				NOT = { trait = patient }
				NOT = { trait = maimed }
				NOT = { trait = infirm }
				NOT = { character = ROOT }
			}
			add_trait = wounded
			opinion = {
				who = ROOT
				modifier = saved_on_battlefield
				years = 2
			}
			if = {
				limit = {
					has_ambition = obj_lead_troops
				}
				add_trait = veteran
			}
		}
		clr_character_flag = titus_knight
	}

	option = {
		name = "EVTOPTB_Plus_473" # Perhaps I can make use of this mad knight
		trigger = {
			NOT = { has_character_flag = titus_knight }
			is_ruler = yes
		}
 		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		# new courtier created for ROOT
		create_random_soldier = {
			random_traits = yes
			dynasty = random
			female = no
			trait = brave
			trait = wroth
			trait = wounded
			trait = veteran
		}
		clr_character_flag = titus_knight
	}

	option = {
		name = "EVTOPTC_Plus_473" # Give him a lecture on patience
		trigger = {
			has_character_flag = titus_knight
		}
 		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		# random_realm_character with the flag gets an op mod towards root
		random_realm_character = {
			limit = {
				in_command = yes
				in_battle = yes
				OR = {
					is_ruler = no
					tier = baron
				}
				at_location = ROOT
				NOT = { trait = craven }
				NOT = { trait = patient }
				NOT = { trait = maimed }
				NOT = { trait = infirm }
				NOT = { character = ROOT }
			}
			add_trait = wounded
			add_trait = patient
			if = {
				limit = {
					has_ambition = obj_lead_troops
				}
				add_trait = veteran
			}
		}
		clr_character_flag = titus_knight
	}

	option = {
		name = "EVTOPTD_Plus_473" # Never do that again
		trigger = {
			NOT = { has_character_flag = titus_knight }
		}
 		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		prestige = 5
		clr_character_flag = titus_knight
	}
}

# Rescued after a mad charge against the enemy
character_event = {
	id = Plus.474
	desc = "EVTDESC_Plus_474"
	picture = "GFX_evt_melee_muslim"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 5.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.9
			trait = zealous
		}
		modifier = {
			factor = 0.1
			trait = patient
		}
		modifier = {
			factor = 0.6
			trait = just
		}
		modifier = {
			factor = 0.7
			trait = kind
		}
		modifier = {
			factor = 1.5
			trait = diligent
		}
		modifier = {
			factor = 1.1
			trait = gregarious
		}
		modifier = {
			factor = 2.0
			trait = wroth
		}
		modifier = {
			factor = 2.5
			trait = drunkard
		}
		modifier = {
			factor = 1.5
			trait = arbitrary
		}
		modifier = {
			factor = 1.25
			trait = cruel
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.9
			trait = shy
		}
		modifier = {
			factor = 1.45
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = imbecile
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.5
			is_ill = yes
		}
		modifier = {
			factor = 0.5
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_474" #Thank him for the rescue
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		add_trait = wounded
		random_realm_character = {
			limit = {
				in_command = yes
				in_battle = yes
				at_location = ROOT
				NOT = { trait = craven }
				NOT = { trait = maimed }
				NOT = { trait = infirm }
				NOT = { character = ROOT }
			}
			reverse_opinion = {
				who = ROOT
				modifier = saved_on_battlefield
				years = 2
			}
			if = {
				limit = {
					has_ambition = obj_lead_troops
				}
				add_trait = veteran
			}
		}
	}

	option = {
		name = "EVTOPTB_Plus_474" # Reward him for his bravery
		trigger = {
			any_realm_character = {
				in_command = yes
				in_battle = yes
				at_location = ROOT
				NOT = { trait = craven }
				NOT = { trait = maimed }
				NOT = { trait = infirm }
				NOT = { character = ROOT }
			}
		}
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		add_trait = wounded
		wealth = -10
		random_realm_character = {
			limit = {
				in_command = yes
				in_battle = yes
				at_location = ROOT
				NOT = { trait = craven }
				NOT = { trait = maimed }
				NOT = { trait = infirm }
				NOT = { character = ROOT }
			}
			reverse_opinion = {
				who = ROOT
				modifier = saved_on_battlefield
				years = 2
			}
			wealth = 10
			opinion = {
				modifier = charitable_pos
				who = ROOT
				years = 3
			}
			if = {
				limit = {
					has_ambition = obj_lead_troops
				}
				add_trait = veteran
			}
		}
	}
}

# Captures an enemy knight even after being wounded
character_event = {
	id = Plus.475
	desc = "EVTDESC_Plus_475"
	picture = "GFX_evt_moors"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.4
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = deceitful
		}
		modifier = {
			factor = 1.25
			trait = arbitrary
		}
		modifier = {
			factor = 1.5
			trait = paranoid
		}
		modifier = {
			factor = 1.7
			trait = ambitious
		}
		modifier = {
			factor = 1.5
			trait = cynical
		}
		modifier = {
			factor = 0.5
			trait = honest
		}
		modifier = {
			factor = 0.85
			trait = just
		}
		modifier = {
			factor = 0.75
			trait = trusting
		}
		modifier = {
			factor = 0.6
			trait = content
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = clubfooted
				trait = hunchback
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.35
			intrigue = 9
		}
		modifier = {
			factor = 1.25
			intrigue = 11
		}
		modifier = {
			factor = 1.2
			intrigue = 13
		}
		modifier = {
			factor = 1.1
			intrigue = 15
		}
		modifier = {
			factor = 0.5
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_475" # He'll make a good ransom
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		add_trait = wounded
		wealth = 10
	}
}

# Gives a stirring speech before the charge
character_event = {
	id = Plus.476
	desc = "EVTDESC_Plus_476"
	picture = "GFX_evt_large_army"

	is_triggered_only = yes

	trigger = {
		location = {
			owner = {
				OR = {
					same_realm = ROOT
					character = ROOT
				}
			}
		}
		independent = no
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}

					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}

					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 5.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 2.0
			trait = brave
		}
		modifier = {
			factor = 1.5
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = gregarious
		}
		modifier = {
			factor = 0.7
			trait = shy
		}
		modifier = {
			factor = 1.4
			trait = strong
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
				trait = underhanded_rogue
			}
		}
		modifier = {
			factor = 1.4
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
				trait = charismatic_negotiator
			}
		}
		modifier = {
			factor = 1.55
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
				trait = grey_eminence
			}
		}
		modifier = {
			factor = 1.2
			martial = 4
		}
		modifier = {
			factor = 1.1
			martial = 6
		}
		modifier = {
			factor = 1.1
			martial = 8
		}
		modifier = {
			factor = 1.15
			diplomacy = 4
		}
		modifier = {
			factor = 1.15
			diplomacy = 6
		}
		modifier = {
			factor = 1.15
			diplomacy = 8
		}
		modifier = {
			factor = 1.1
			diplomacy = 10
		}
		modifier = {
			factor = 1.1
			diplomacy = 12
		}
		modifier = {
			factor = 0.4
			is_ill = yes
		}
		modifier = {
			factor = 0.7
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_476" # for the realm!
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}

		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		prestige = 10
		morale = 0.1
	}
}

# Saves a local village from the enemy's pillaging
character_event = {
	id = Plus.477
	desc = "EVTDESC_Plus_477"
	picture = "GFX_evt_burning_house_muslim"

	is_triggered_only = yes

	trigger = {
		OR = {
			trait = kind
			AND = {
				trait = charitable
				NOT = { trait = cruel }
			}
		}
		location = {
			owner = {
				OR = {
					same_realm = ROOT
					character = ROOT
				}
			}
		}
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 10.0
			location = {
				is_capital = yes
			}
		}
		modifier = {
			factor = 5.0
			location = {
				owner = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 2.5
			trait = brave
		}
		modifier = {
			factor = 1.5
			trait = zealous
		}
		modifier = {
			factor = 1.75
			trait = just
		}
		modifier = {
			factor = 1.5
			trait = strong
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.55
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_477" # No reward is necessary
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		piety = 5
		# modifier that reduces peasant revolts
		add_character_modifier = {
			name = "hero_to_peasants"
			duration = 365
		}
	}

	option = {
		name = "EVTOPTB_Plus_477" # Money
		trigger = {
			NOT = { trait = charitable }
		}
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		wealth = 10
	}

	option = {
		name = "EVTOPTC_Plus_477" # a mounument in my honor
		trigger = {
			NOT = { trait = humble }
		}
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		prestige = 20
	}
}

# Leads a successful sortie against the attackers during a siege
character_event = {
	id = Plus.478
	desc = "EVTDESC_Plus_478"
	picture = "GFX_evt_siege"
	
	min_age = 16
	capable_only = yes
	prisoner = no

	trigger = {
		in_siege = yes
		siege = { is_attacker = no }
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 360
		modifier = {
			factor = 0.75
			trait = brave
		}
		modifier = {
			factor = 0.75
			trait = zealous
		}
		modifier = {
			factor = 0.8
			trait = strong
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.95
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 0.7
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 0.85
			martial = 8
		}
		modifier = {
			factor = 0.9
			martial = 10
		}
		modifier = {
			factor = 0.9
			martial = 12
		}
		modifier = {
			factor = 1.55
			is_ill = yes
		}
	}

	immediate = {
		siege = {
			morale = 0.15
			troops = -0.01
		}
		siege = {
			enemy = {
				troops = -0.05
			}
		}
	}

	option = {
		name = "EVTOPTA_Plus_478"
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		tooltip = {
			siege = {
				morale = 0.15
				troops = -0.01
			}
			siege = {
				enemy = {
					troops = -0.05
				}
			}
		}
	}
}

# Gets option to ride into battle even when ill
character_event = {
	id = Plus.479
	desc = "EVTDESC_Plus_479"
	picture = "GFX_evt_illness"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		is_ill = yes
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 5.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 2.5
			trait = zealous
		}
		modifier = {
			factor = 2.5
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = imbecile
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
	}

	option = {
		name = "EVTOPTA_Plus_479" # I must ride, despite the risks.
		trigger = {
			OR = {
				NOT = { piety = 250 }
				NOT = { trait = zealous }
			}
		}
		ai_chance = {
			factor = 2
		}
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		morale = 0.05
		random_list = {
			10 = {
				death = {
					death_reason = death_battle
				}
			}
			15 = { add_trait = maimed }
			25 = { add_trait = wounded }
			50 = { }
		}
	}

	option = {
		name = "EVTOPTB_Plus_479" # No... to ride would be the death of me
		trigger = {
			OR = {
				NOT = { piety = 250 }
				NOT = { trait = zealous }
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = brave
			}
		}
		morale = -0.05
	}

	option = {
		name = "EVTOPTC_Plus_479" # I have no fear.  God will protect me.
		trigger = {
			piety = 250
			trait = zealous
		}
		ai_chance = {
			factor = 1
		}
		tooltip_info = zealous
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		morale = 0.05
	}
}

# Strikes down an enemy with his spear
character_event = {
	id = Plus.480
	desc = "EVTDESC_Plus_480"
	picture = "GFX_evt_mongols"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 5.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.35
			trait = zealous
		}
		modifier = {
			factor = 1.45
			trait = strong
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.55
			is_ill = yes
		}
		modifier = {
			factor = 0.85
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_480"
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		change_martial = 1
	}
}

# Impressively strikes down an enemy
character_event = {
	id = Plus.481
	desc = "EVTDESC_Plus_481"
	picture = "GFX_evt_battle"

	hide_from = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 5.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.35
			trait = zealous
		}
		modifier = {
			factor = 1.45
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = imbecile
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.5
			is_ill = yes
		}
		modifier = {
			factor = 0.8
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_481"
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		change_diplomacy = 1
	}
}

# Court Jester shows bravery on the battlefield
character_event = {
	id = Plus.482
	desc = "EVTDESC_Plus_482"
	picture = "GFX_evt_jugglers"

	is_triggered_only = yes

	trigger = {
		has_minor_title = title_court_jester
		religion_group = christian
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}

					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 5.0
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.35
			trait = zealous
		}
		modifier = {
			factor = 1.45
			trait = strong
		}
		modifier = {
			factor = 2.0
			trait = imbecile
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = weak
				trait = inbred
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = dwarf
				trait = hunchback
				trait = clubfooted
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = flamboyant_schemer
				trait = detached_priest
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = misguided_warrior
				trait = intricate_webweaver
				trait = elusive_shadow
				trait = martial_cleric
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = tough_soldier
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.35
			OR = {
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			martial = 4
		}
		modifier = {
			factor = 1.15
			martial = 6
		}
		modifier = {
			factor = 1.15
			martial = 8
		}
		modifier = {
			factor = 1.1
			martial = 10
		}
		modifier = {
			factor = 1.1
			martial = 12
		}
		modifier = {
			factor = 1.05
			martial = 14
		}
		modifier = {
			factor = 1.05
			martial = 16
		}
		modifier = {
			factor = 0.55
			is_ill = yes
		}
		modifier = {
			factor = 0.85
			health_traits = 1
		}
	}

	option = {
		name = "EVTOPTA_Plus_482"
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		prestige = 15
	}
}

# Monty Python easter egg
character_event = {
	id = Plus.483
	desc = "EVTDESC_Plus_483"
	picture = "GFX_evt_longbowman"
	
	min_age = 16
	capable_only = yes
	prisoner = no

	trigger = {
		in_battle = yes
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 100
		modifier = {
			factor = 0.5
			culture = english
		}
		modifier = {
			factor = 0.8
			trait = grey_eminence
		}
		modifier = {
			factor = 0.7
			OR = {
				trait = genius
				trait = quick
			}
		}
		modifier = {
			factor = 0.7
			OR = {
				trait = drunkard
				trait = syphilitic
			}
		}
		modifier = {
			factor = 0.9
			diplomacy = 10
		}
		modifier = {
			factor = 0.9
			diplomacy = 13
		}
		modifier = {
			factor = 0.9
			diplomacy = 16
		}
	}

	option = {
		name = "EVTOPTA_Plus_483"
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
		add_trait = wounded
	}
}

# Don Quixote easter egg
character_event = {
	id = Plus.484
	desc = "EVTDESC_Plus_484"
	picture = "GFX_evt_joust"
	
	min_age = 16
	capable_only = yes
	prisoner = no

	trigger = {
		in_battle = yes
		OR = {
			has_ambition = obj_lead_troops
			AND = {
				has_ambition = obj_lead_troops_infidel
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion_group = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion_group = ROOT }
						}
					}
				}
			}
			AND = {
				has_ambition = obj_lead_troops_muslim
				OR = {
					war = yes
					any_liege = { war = yes }
				}
				OR = {
					any_current_enemy = {
						NOT = { religion = ROOT }
					}
					any_liege = {
						any_current_enemy = {
							NOT = { religion = ROOT }
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 100
		modifier = {
			factor = 0.5
			culture = castillan
		}
		modifier = {
			factor = 0.8
			trait = misguided_warrior
		}
		modifier = {
			factor = 0.7
			OR = {
				trait = imbecile
				trait = slow
			}
		}
		modifier = {
			factor = 0.7
			OR = {
				trait = lunatic
				trait = possessed
			}
		}
		modifier = {
			factor = 0.9
			learning = 10
		}
		modifier = {
			factor = 0.9
			learning = 13
		}
		modifier = {
			factor = 0.9
			learning = 16
		}
	}

	option = {
		name = "EVTOPTA_Plus_484"
		if = {
			limit = {
				has_ambition = obj_lead_troops
			}
			add_trait = veteran
		}
		if = {
			limit = {
				OR = {
					has_ambition = obj_lead_troops_infidel
					has_ambition = obj_lead_troops_muslim
				}
			}
			remove_trait = veteran
			add_trait = champion
		}
	}
}

